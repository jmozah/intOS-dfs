(this["webpackJsonpintOS-dfs"]=this["webpackJsonpintOS-dfs"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"account-create_container__3NdcF",containergreen:"account-create_containergreen__24rsl account-create_container__3NdcF",containerred:"account-create_containerred__sljYP account-create_container__3NdcF",formcontainer:"account-create_formcontainer__1FtYc account-create_container__3NdcF",closeButton:"account-create_closeButton__3zjgh",title:"account-create_title__1QZdD styles_mainTitle1__2NSyK",titleblue:"account-create_titleblue__1CHBH styles_mainTitle1__2NSyK",formtitle:"account-create_formtitle__2gzcM styles_mainTitle1__2NSyK",formsubtitle:"account-create_formsubtitle__199uV styles_smallLight__19t_v",subtitle:"account-create_subtitle__3_35a styles_bodyDefault__3HIAZ",link:"account-create_link__1Ayx_ styles_baseGlowText__1theI",username:"account-create_username__1WQGK styles_bodyBold__1X9lW",usernameExists:"account-create_usernameExists__I-PgQ styles_bodyBold__1X9lW",showkeystoggle:"account-create_showkeystoggle__3cERA styles_smallBold__2dgD2",box:"account-create_box___GsGi styles_bodyBold__1X9lW",placeholder:"account-create_placeholder__3Uv3g",avatarImage:"account-create_avatarImage__DaV2F",button:"account-create_button__nj0EZ undefined styles_baseShadow__3Xdrr",buttontext:"account-create_buttontext__1LWBJ",buttongray:"account-create_buttongray__7H5lD undefined styles_baseShadow__3Xdrr",buttontextblue:"account-create_buttontextblue__12CFX",uploadicon:"account-create_uploadicon__3p-4z",arrowup:"account-create_arrowup__Q_BAP",avatareditor:"account-create_avatareditor__3bq5u",usernameinputbox:"account-create_usernameinputbox__3DSg4",usernameinput:"account-create_usernameinput__qwoNz styles_bodyBold__1X9lW",mnemonicinputbox:"account-create_mnemonicinputbox__3s9ic",mnemonicinput:"account-create_mnemonicinput__cPDmh styles_bodyBold__1X9lW",passwordflex:"account-create_passwordflex__2UZT5",flexer:"account-create_flexer__3OqLs",dialogiconbox:"account-create_dialogiconbox__1FIZw",confirm:"account-create_confirm__1MSCL",cancel:"account-create_cancel__1s5HZ",sliderbox:"account-create_sliderbox__1sBLF",statusbox:"account-create_statusbox__2oMVP",statusboxitemactive:"account-create_statusboxitemactive__vnq_N",blacktext:"account-create_blacktext__22UQe styles_smallBold__2dgD2",choosefile:"account-create_choosefile__2pDg4 styles_smallBold__2dgD2",nextbuttonbox:"account-create_nextbuttonbox__3ixzS",mnemonic:"account-create_mnemonic__1lK4p styles_bodyBold__1X9lW",mnemoniccheck:"account-create_mnemoniccheck__1gGIJ",fileinput:"account-create_fileinput__38N5L",textField:"account-create_textField__1mcno"}},138:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.e9316813.png"},18:function(e,t,a){e.exports={container:"account_container__2L7yZ",containergreen:"account_containergreen__1bYbz account_container__2L7yZ",containerred:"account_containerred__Pr9Wr account_container__2L7yZ",formcontainer:"account_formcontainer__McUFC account_container__2L7yZ",homemenu:"account_homemenu__YnUIf",menuitem:"account_menuitem__236zv styles_link__dxACx styles_bodyDefault__3HIAZ styles_baseGlowText__1theI",closeButton:"account_closeButton__tyeGR",title:"account_title__30A5t styles_mainTitle1__2NSyK",titleblue:"account_titleblue__GVFLB styles_mainTitle1__2NSyK",formtitle:"account_formtitle__1N0zm styles_mainTitle1__2NSyK",formsubtitle:"account_formsubtitle__1-9x_ styles_smallLight__19t_v",subtitle:"account_subtitle__2J-4Y styles_bodyBold__1X9lW",username:"account_username__1aprD styles_bodyBold__1X9lW",showkeystoggle:"account_showkeystoggle__btpHO styles_smallBold__2dgD2",box:"account_box__3sWxf styles_bodyBold__1X9lW",placeholder:"account_placeholder__1nwcI",avatarImage:"account_avatarImage__20H7B",button:"account_button__3QcM_ undefined styles_baseShadow__3Xdrr",buttontext:"account_buttontext__3q788",buttongray:"account_buttongray__gG2fG undefined styles_baseShadow__3Xdrr",buttontextblue:"account_buttontextblue__2EoKJ",removeButton:"account_removeButton__2gf1s account_button__3QcM_ undefined styles_baseShadow__3Xdrr",uploadicon:"account_uploadicon__B5GK-",arrowup:"account_arrowup__YN0j2",avatareditor:"account_avatareditor__xXpdz",usernameinputbox:"account_usernameinputbox__44tYc",usernameinput:"account_usernameinput__Fs7CI styles_bodyDefault__3HIAZ",passwordflex:"account_passwordflex__1EOfU",flexer:"account_flexer__3lOX9",dialogiconbox:"account_dialogiconbox__33Rx6",confirm:"account_confirm__2oVIW",cancel:"account_cancel__3941a",sliderbox:"account_sliderbox__2G563",blacktext:"account_blacktext__2LjGW styles_smallBold__2dgD2",choosefile:"account_choosefile__3F7iQ styles_smallBold__2dgD2",nextbuttonbox:"account_nextbuttonbox__3OnBq",mnemonic:"account_mnemonic__mBAFU styles_bodyBold__1X9lW",mnemoniccheck:"account_mnemoniccheck__2QlI_",fileinput:"account_fileinput__1kNha",textField:"account_textField__3jCQt",qrcode:"account_qrcode__37Mn-"}},367:function(e,t,a){e.exports=a(745)},372:function(e,t,a){},4:function(e,t,a){e.exports={container:"drive_container__2Yd9r",center:"drive_center__1Mcwd",topbar:"drive_topbar__2n5-s",topmenu:"drive_topmenu__2tCAa",addButton:"drive_addButton__19lr8 styles_baseGlowText__1theI",user:"drive_user__AZ1A8",avatar:"drive_avatar__3pEai",uploadSpace:"drive_uploadSpace__39yxa styles_bodyBold__1X9lW",innercontainer:"drive_innercontainer__1QlGA",folderMenu:"drive_folderMenu__3pRIH",folderMenuTitle:"drive_folderMenuTitle__2Ezuy styles_bodyBold__1X9lW",dialogContainer:"drive_dialogContainer__2CjTH",progress:"drive_progress__1vaIW",folderLoading:"drive_folderLoading__Z8l8n",title:"drive_title__1Jze8 styles_mainTitle1__2NSyK",subtitle:"drive_subtitle__3NTHc styles_bodyDefault__3HIAZ",breadcrumbitem:"drive_breadcrumbitem__3bRHL styles_bodyDefault__3HIAZ",breadcrumb:"drive_breadcrumb__2dYnb styles_bodyDefault__3HIAZ",breadcrumbspace:"drive_breadcrumbspace__2exEe",username:"drive_username__29r74 styles_bodyBold__1X9lW",balance:"drive_balance__c5uoh styles_bodyBold__1X9lW styles_baseGlowText__1theI",status:"drive_status__2tFyY styles_bodyDefault__3HIAZ",fileProps:"drive_fileProps__dc4Oh styles_bodyDefault__3HIAZ",rowItem:"drive_rowItem__2s4Nd styles_bodyBold__1X9lW",folderText:"drive_folderText__2Py_v",fileIcon:"drive_fileIcon__1Hpkz",closeButton:"drive_closeButton__29OhI",appicon:"drive_appicon__29o3R",flexer:"drive_flexer__B40Wp",nameInput:"drive_nameInput__1IC-q styles_bodyDefault__3HIAZ",blue:"drive_blue__2hyn4",foldermenu:"drive_foldermenu__1XhIT",closeicon:"drive_closeicon__2vcZQ",menutitle:"drive_menutitle__2EUhr styles_bodyBold__1X9lW",menuitem:"drive_menuitem__2_mxd styles_link__dxACx styles_bodyDefault__3HIAZ styles_baseGlowText__1theI",close:"drive_close__34ZIO",buttonPlace:"drive_buttonPlace__2xIkB",statusText:"drive_statusText__2PjTd styles_bodyBold__1X9lW",shareLink:"drive_shareLink__2Ozs1 styles_bodyDefault__3HIAZ"}},406:function(e,t,a){e.exports=a.p+"static/media/todolist.16a96d20.png"},426:function(e,t){},428:function(e,t){},437:function(e,t){},439:function(e,t){},445:function(e,t){},447:function(e,t){},5:function(e,t,a){e.exports={baseShadow:"styles_baseShadow__3Xdrr",baseGlow:"styles_baseGlow__fiX4_",baseGlowText:"styles_baseGlowText__1theI",mainTitle1:"styles_mainTitle1__2NSyK",mainTitle2:"styles_mainTitle2__Si20_",mainTitle3:"styles_mainTitle3__LGCpn",mainTitle4:"styles_mainTitle4__1V0jS",bodyDefault:"styles_bodyDefault__3HIAZ",bodyBold:"styles_bodyBold__1X9lW",bodyDetail:"styles_bodyDetail__3X0gq",smallLight:"styles_smallLight__19t_v",smallBold:"styles_smallBold__2dgD2",smallestLight:"styles_smallestLight__2N7qc",smallestBold:"styles_smallestBold__2t4FG","fair-drive":"styles_fair-drive__17zvp",link:"styles_link__dxACx styles_bodyDefault__3HIAZ styles_baseGlowText__1theI",container:"styles_container__d38tt",topbar:"styles_topbar__1EdBD",brand:"styles_brand__3zFIq styles_mainTitle2__Si20_",loginregistertitle:"styles_loginregistertitle__2U9ie styles_bodyBold__1X9lW",title:"styles_title__1o_p0 styles_mainTitle1__2NSyK",breadcrumb:"styles_breadcrumb__bpbO0 styles_mainTitle2__Si20_",h1:"styles_h1__1yNOI styles_mainTitle4__1V0jS",address:"styles_address__9xoaG styles_bodyDefault__3HIAZ",space:"styles_space__1gPRX",breadcrumbpath:"styles_breadcrumbpath__UqK5n styles_bodyBold__1X9lW",exiticonblue:"styles_exiticonblue__2iuy7",exitgrayicon:"styles_exitgrayicon__wSN_K",closeicon:"styles_closeicon__1ph6l",innercontainer:"styles_innercontainer__atUd9",logincontainer:"styles_logincontainer__1R-KF",register:"styles_register__-9W1q",createnew:"styles_createnew__26ZmC styles_smallLight__19t_v",button:"styles_button__jo6qc styles_bodyBold__1X9lW styles_baseGlow__fiX4_",buttontext:"styles_buttontext__Rx19U styles_bodyBold__1X9lW styles_baseGlowText__1theI",rowfile:"styles_rowfile__3vKca",dirName:"styles_dirName__1mRTc styles_bodyBold__1X9lW",icons8folder:"styles_icons8folder__TMZPE",directoryrow:"styles_directoryrow__1zOps",flaticon:"styles_flaticon__1-ES6",solid:"styles_solid__2wDj6",A1:"styles_A1__28MMj","grid-1":"styles_grid-1__14Q4R",grid:"styles_grid__2je-P",location:"styles_location__3GLdJ",myaccount:"styles_myaccount__2kWuX",handlebalance:"styles_handlebalance__26a3V",avatar:"styles_avatar__1frs7",handle:"styles_handle__3mz5R styles_smallBold__2dgD2",balance:"styles_balance__xoCET styles_smallBold__2dgD2",bigbalance:"styles_bigbalance__IVi1A styles_mainTitle2__Si20_",flexer:"styles_flexer__2JeKy",dialogBox:"styles_dialogBox__2HgZV",dialogTitle:"styles_dialogTitle__2nEyP styles_bodyBold__1X9lW",dialogClose:"styles_dialogClose__3aDEc",dialogAvatar:"styles_dialogAvatar__3yy9Q",dialogPasswordBox:"styles_dialogPasswordBox__1jufA",dialogPassword:"styles_dialogPassword__6v-QG styles_bodyDefault__3HIAZ",dialogPasswordiconbox:"styles_dialogPasswordiconbox__9X6b0",username:"styles_username__1fpye styles_bodyBold__1X9lW"}},502:function(e,t){},504:function(e,t){},510:function(e,t){},745:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),o=a.n(c),l=(a(372),a(6)),s=a.n(l),i=a(15),u=a(33),m=a(8),d=a(23),_=a(138),p=a.n(_),f=a(348),v=a(91),b=a.n(v),h=a(44),E=a.n(h),y=a(349),g=a.n(y),x=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:12e4});function w(e,t){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={user:t,password:a},r={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,x({method:"POST",url:"user/login",config:r,data:E.a.stringify(n),withCredentials:!0});case 5:return c=e.sent,e.next=8,x({method:"POST",url:"pod/open",data:E.a.stringify({password:a,pod:"Fairdrive"}),config:r,withCredentials:!0});case 8:return e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function O(){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"POST",url:"user/logout",config:t,withCredentials:!0});case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={user:t},n={headers:{"Content-Type":"application/x-www-form-urlencoded"},paramsSerializer:function(e){return E.a.stringify(e,{arrayFormat:"brackets"})}},e.next=5,x({method:"GET",url:"user/isloggedin",config:n,params:a,withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={user:t},n={headers:{"Content-Type":"application/x-www-form-urlencoded"},paramsSerializer:function(e){return E.a.stringify(e,{arrayFormat:"brackets"})}},e.next=5,x({method:"GET",url:"user/present",config:n,params:a,withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function T(e,t,a){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(s.a.mark((function e(t,a,n){var r,c,o,l,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={headers:{"Content-Type":"multipart/form-data"}},c=new FormData,o=Object(f.a)(t);try{for(o.s();!(l=o.n()).done;)i=l.value,c.append("files",i)}catch(s){o.e(s)}finally{o.f()}return c.append("pod_dir","/"+a),c.append("block_size","64Mb"),e.next=8,x({method:"POST",url:"file/upload",data:c,config:r,withCredentials:!0,onUploadProgress:function(e){n(e.loaded,e.total)}});case 8:return u=e.sent,console.log(u),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"POST",url:"file/download",data:E.a.stringify({file:t}),config:n,responseType:"blob",withCredentials:!0});case 4:return r=e.sent,console.log(r),g.a.saveAs(r.data,a),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(e,t){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"POST",url:"pod/open",data:E.a.stringify({password:a,pod:"Fairdrive"}),config:n,withCredentials:!0});case 4:return e.sent,r="/",r="root"==t?{dir:"/"}:{dir:"/"+t},e.next=9,x({method:"GET",url:"dir/ls",params:r,config:n,withCredentials:!0});case 9:return c=e.sent,e.abrupt("return",c.data);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function W(e,t,a){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(s.a.mark((function e(t,a,n){var r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={user:t,password:a,mnemonic:n},c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,x({method:"POST",url:"user/signup",config:c,data:E.a.stringify(r),withCredentials:!0});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(0),console.log("error on timeout",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function R(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:n})}function L(e){return X.apply(this,arguments)}function X(){return(X=Object(i.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=R(t,"avatar.jpg"),(n=new FormData).append("avatar",a),r={headers:{"Content-Type":"multipart/form-data"}},e.next=7,x({method:"POST",url:"user/avatar",config:r,data:n,withCredentials:!0});case 7:return c=e.sent,e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),console.log("error on timeout",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function z(e){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FileReader,e.abrupt("return",new Promise((function(e,n){a.onerror=function(){a.abort(),n(new DOMException("Problem with file"))},a.onload=function(){e(a.result)},a.readAsDataURL(t)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return H.apply(this,arguments)}function H(){return(H=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},n={username:t},e.next=5,x({method:"GET",url:"user/avatar",responseType:"blob",config:a,params:n,withCredentials:!0});case 5:return r=e.sent,console.log(r),e.next=9,z(r.data);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log("error on timeout",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function M(e,t){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={password:t,pod:a},e.next=5,x({method:"POST",url:"pod/new",config:n,data:E.a.stringify(r),withCredentials:!0});case 5:e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Y(e){return V.apply(this,arguments)}function V(){return(V=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"POST",url:"dir/mkdir",config:a,data:E.a.stringify({dir:t}),withCredentials:!0});case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Q(e){return q.apply(this,arguments)}function q(){return(q=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},e.next=4,x({method:"DELETE",url:"dir/rmdir",config:a,params:{dir:t},withCredentials:!0});case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(e){return $.apply(this,arguments)}function $(){return($=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"DELETE",url:"file/delete",config:a,params:{file:t},withCredentials:!0});case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,x({method:"POST",url:"file/share",config:n,params:{file:t,to:"anon"},withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data.sharing_reference);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var ae=a(5),ne=a.n(ae),re=a(11),ce=a.n(re);var oe=function(e){var t=e.createStage,a=e.restoreStage,n=(e.exitStage,Object(u.e)());return r.a.createElement("div",{className:ce.a.container},r.a.createElement("div",{className:ce.a.title},"Welcome to Fairdrive"),r.a.createElement("div",{className:ce.a.subtitle},"In the next steps you will be creating a Fairdrive Wallet."),r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"create account"))),r.a.createElement("div",{tabIndex:"2",className:ne.a.button},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext,onClick:a},"restore account"))),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.link,onClick:function(){n.push("/login")}},"Login with existing account"))},le=a(113),se=a.n(le);function ie(){return ue.apply(this,arguments)}function ue(){return(ue=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se.a.utils.randomBytes(16),a=se.a.wordlists.en,e.next=4,se.a.utils.entropyToMnemonic(t,a);case 4:return n=e.sent,r=n,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(e){var t=e.nextStage,a=e.exitStage,c=e.setMnemonic,o=e.mnemonic;function l(){return(l=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return t=e.sent,console.log(t),a=t.split(" "),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.setWallet,e.setCollection,e.fairdrive,Object(n.useEffect)((function(){(function(){return l.apply(this,arguments)})().then((function(e){c(e)}))}),[c]),r.a.createElement("div",{className:ce.a.container},r.a.createElement("div",{className:ce.a.closeButton,onClick:a},r.a.createElement("div",{className:ne.a.closeicon})),r.a.createElement("div",{className:ce.a.title},"Write down this seed phrase"),r.a.createElement("div",{className:ce.a.subtitle},"With it, you will always be able to restore your account."),r.a.createElement("div",{className:ce.a.mnemonic},o.map((function(e,t){return r.a.createElement("div",{key:t},t+1+". "+e)}))),o.length>=1?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"continue"))):"")},de=a(766);var _e=function(e){var t=e.nextStage,a=e.prevStage,c=e.exitStage,o=e.mnemonic;console.log(o[2],o[4],o[7],o[10]);var l=Object(n.useState)(!1),s=Object(m.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(!1),_=Object(m.a)(d,2),p=_[0],f=_[1],v=Object(n.useState)(!1),b=Object(m.a)(v,2),h=b[0],E=b[1],y=Object(n.useState)(!1),g=Object(m.a)(y,2),x=g[0],w=g[1];return r.a.createElement("div",{className:ce.a.container},r.a.createElement("div",{className:ce.a.closeButton,onClick:c},r.a.createElement("div",{className:ne.a.closeicon})),r.a.createElement("div",{className:ce.a.title},"Check your backup"),r.a.createElement("div",{className:ce.a.subtitle},"Didn't write it down? You can start over with a"," ",r.a.createElement("span",{className:ce.a.link,onClick:a}," ","new seed phrase"),"."),r.a.createElement("div",{className:ce.a.mnemoniccheck},r.a.createElement("div",{className:ce.a.mnemonicinputbox},r.a.createElement("input",{className:ce.a.mnemonicinput,placeholder:"word 3",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?u(!0):u(!1)}(2,e)}}),i?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:ce.a.mnemonicinputbox},r.a.createElement("input",{className:ce.a.mnemonicinput,placeholder:"word 5",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?f(!0):f(!1)}(4,e)}}),p?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:ce.a.mnemonicinputbox},r.a.createElement("input",{className:ce.a.mnemonicinput,placeholder:"word 8",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?E(!0):E(!1)}(7,e)}}),h?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:ce.a.mnemonicinputbox},r.a.createElement("input",{className:ce.a.mnemonicinput,placeholder:"word 11",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?w(!0):w(!1)}(10,e)}}),x?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#222222"}}))),i&&p&&h&&x?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"continue"))):"")},pe=function(e){var t=e.nextStage,a=e.exitStage,n=e.avatarStage,c=e.username,o=e.setUsername,l=e.avatar,s=e.usernameExists;return r.a.createElement("div",{className:ce.a.formcontainer},r.a.createElement("div",{className:ce.a.closeButton,onClick:a},r.a.createElement("div",{className:ne.a.closeicon})),r.a.createElement("div",{className:ce.a.title},"Choose an avatar and a username"),r.a.createElement("div",{className:ce.a.placeholder},r.a.createElement("img",{src:l,className:ce.a.avatarImage,alt:"avatar"})),r.a.createElement("div",{className:ce.a.uploadbtn}),r.a.createElement("div",{className:ce.a.uploadicon,onClick:n},r.a.createElement("div",{className:ce.a.arrowup})),r.a.createElement("div",{className:ce.a.usernameinputbox},r.a.createElement("input",{type:"text",autoFocus:"autoFocus",className:ce.a.usernameinput,placeholder:"Fairdrive User #1263",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:ce.a.usernameExists},s),c.length>=1&&!s?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"continue"))):"")};var fe=function(e){var t=e.createAccount,a=e.exitStage,c=(e.nextStage,e.setPassword),o=(e.password,Object(n.useState)(!1)),l=Object(m.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(),d=Object(m.a)(u,2),_=d[0],p=d[1],f=Object(n.useState)(),v=Object(m.a)(f,2),b=v[0],h=v[1],E=function(e,t){""!==e|""!==t&&(e===t?(i(!0),c(e)):i(!1))};return r.a.createElement("div",{className:ce.a.formcontainer},r.a.createElement("div",{className:ce.a.closeButton,onClick:a},r.a.createElement("div",{className:ne.a.closeicon})),r.a.createElement("div",{className:ce.a.title},"Choose a password"),r.a.createElement("div",{className:ce.a.passwordflex}),r.a.createElement("div",{className:ce.a.flexer}),r.a.createElement("div",{className:ce.a.usernameinputbox},r.a.createElement("input",{type:"password",autoFocus:!0,name:"1",className:ce.a.mnemonicinput,placeholder:"Password",value:_,onChange:function(e){return function(e){p(e.target.value),E(e.target.value,b)}(e)}})),r.a.createElement("div",{className:ce.a.usernameinputbox},r.a.createElement("input",{type:"password",name:"2",className:ce.a.mnemonicinput,placeholder:"Control",value:b,onChange:function(e){return function(e){h(e.target.value),E(e.target.value,_)}(e)}})),s?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"set password"))):"")},ve=a(14),be=a(16),he=a(25),Ee=a(24),ye=a(353),ge=a.n(ye),xe=function(e){Object(he.a)(a,e);var t=Object(Ee.a)(a);function a(){var e;Object(ve.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={image:e.props.avatar,allowZoomOut:!1,position:{x:.5,y:.5},scale:1,rotate:0,borderRadius:200,preview:null,width:128,height:128},e.handleSave=function(t){var a=e.editor.getImageScaledToCanvas().toDataURL(),n=e.editor.getCroppingRect();e.setState({preview:{img:a,rect:n,scale:e.state.scale,width:e.state.width,height:e.state.height,borderRadius:e.state.borderRadius}})},e.handleScale=function(t){var a=parseFloat(t.target.value);e.setState({scale:a})},e.handleNewImage=function(t){e.setState({image:t.target.files[0]})},e.rotateRight=function(t){t.preventDefault(),e.setState({rotate:e.state.rotate+90})},e.handlePositionChange=function(t){e.setState({position:t})},e.onClickSave=function(){if(e.editor){var t=e.editor.getImageScaledToCanvas(),a=t.toDataURL("image/jpeg",.82);console.log(a),e.props.setAvatar(t.toDataURL("image/jpeg",.82)),window.open(a,"_blank"),e.props.exitStage()}},e.setEditorRef=function(t){return e.editor=t},e}return Object(be.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ce.a.formcontainer},r.a.createElement("div",{className:ce.a.avatareditor},r.a.createElement("div",{className:ne.a.rotateicon,onClick:this.rotateRight}),r.a.createElement(ge.a,{ref:this.setEditorRef,scale:parseFloat(this.state.scale),width:this.state.width,height:this.state.height,position:this.state.position,onPositionChange:this.handlePositionChange,rotate:parseFloat(this.state.rotate),borderRadius:this.state.borderRadius,image:this.state.image})),r.a.createElement("div",{className:ce.a.sliderbox},r.a.createElement("input",{name:"scale",type:"range",onChange:this.handleScale,min:"1",max:"3",step:"0.01",defaultValue:"1.2"})),r.a.createElement("div",{className:ce.a.subtitle},"scroll to zoom - drag to move"),r.a.createElement("label",{for:"newFile",className:ce.a.link,onClick:""},"choose another file"),r.a.createElement("input",{hidden:"hidden",name:"newImage",id:"newFile",accept:".jpg, .jpeg, .png, .gif",type:"file",onChange:this.handleNewImage,className:ce.a.fileinput}),r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:this.onClickSave.bind(this)},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"set avatar"))),r.a.createElement("div",{className:ce.a.flexer}),r.a.createElement("div",{className:ce.a.link},"Cancel"))}}]),a}(r.a.Component);var we=function(e){e.accountCreateDone;var t=e.item0,a=e.item1,n=e.item2,c=e.item3,o=e.nextStage;return r.a.createElement("div",{className:ce.a.formcontainer},r.a.createElement("div",{className:ce.a.title},"Your Fairdrive is being created"),r.a.createElement("div",{className:ce.a.statusbox},t?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#333333"}}),t?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating User Account"):r.a.createElement("div",null,"Creating User Account"),a?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#333333"}}),a?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating Fairdrive"):r.a.createElement("div",null,"Creating Fairdrive"),n?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#333333"}}),n?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating Folders"):r.a.createElement("div",null,"Creating Folders"),c?r.a.createElement(de.a,{style:{color:"#92e7fa"}}):r.a.createElement(de.a,{style:{color:"#333333"}}),c?r.a.createElement("div",{style:{color:"#92e7fa"}},"Storing Fairdrive Account"):r.a.createElement("div",null,"Storing Fairdrive Account")),t&&a&&n&&c?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:o},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"To your account"))):"")};var Ne=function(){var e=Object(d.b)(),t=Object(n.useState)("accountCreateIntroId"),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(u.e)(),_=Object(n.useState)([]),f=Object(m.a)(_,2),v=f[0],b=f[1],h=Object(n.useState)(),E=Object(m.a)(h,2),y=(E[0],E[1],Object(n.useState)()),g=Object(m.a)(y,2),x=(g[0],g[1]),w=Object(n.useState)(p.a),N=Object(m.a)(w,2),O=N[0],S=N[1],j=Object(n.useState)(""),C=Object(m.a)(j,2),I=C[0],T=C[1],A=Object(n.useState)(null),B=Object(m.a)(A,2),P=B[0],D=B[1],F=Object(n.useState)(),U=Object(m.a)(F,2),R=U[0],X=U[1],z=Object(n.useState)(!1),G=Object(m.a)(z,2),Z=G[0],H=(G[1],Object(n.useState)(!1)),K=Object(m.a)(H,2),V=K[0],Q=K[1],q=Object(n.useState)(!1),J=Object(m.a)(q,2),$=J[0],ee=J[1],te=Object(n.useState)(!1),ae=Object(m.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!1),le=Object(m.a)(ce,2),se=le[0],ie=le[1];function ue(){return(ue=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(t),e.next=3,k(t).then((function(e){console.log(e),e.data.present?D("Username taken."):D(null)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o("creatingAccountId"),a=v.join(" "),t.next=4,W(I,R,a).catch((function(e){throw new Error("User creation error")}));case 4:return n=t.sent,t.next=7,L(O);case 7:return t.sent,Q(!0),t.next=11,M(R,"Fairdrive");case 11:return ee(!0),t.next=14,Y("Documents");case 14:return t.next=16,Y("Movies");case 16:return t.next=18,Y("Music");case 18:return t.next=20,Y("Pictures");case 20:re(!0),r={status:"accountSet",username:I,avatar:O,address:n.reference,balance:0},e({type:"SET_ACCOUNT",data:r}),e({type:"SET_SYSTEM",data:{hasAcount:!0}}),ie(!0),l.push("/drive/root");case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();switch(c){case"accountCreateIntroId":return r.a.createElement(oe,{createStage:function(){return o("mnemonicShowId")},restoreStage:function(){return o()},exitStage:function(){return l.goBack()}});case"mnemonicShowId":return r.a.createElement(me,{fairdrive:window.fairdrive,nextStage:function(){return o("mnemonicCheckId")},exitStage:function(){return o("accountCreateIntroId")},setMnemonic:b,mnemonic:v,setCollection:x});case"mnemonicCheckId":return r.a.createElement(_e,{nextStage:function(){return o("chooseUsernameId")},prevStage:function(){return o("mnemonicShowId")},exitStage:function(){return o("accountCreateIntroId")},mnemonic:v});case"chooseUsernameId":return r.a.createElement(pe,{usernameExists:P,avatar:O,setUsername:function(e){return ue.apply(this,arguments)},username:I,nextStage:function(){return o("choosePasswordId")},exitStage:function(){return o("accountCreateIntroId")},avatarStage:function(){return o("chooseAvatarId")}});case"chooseAvatarId":return r.a.createElement(xe,{avatar:p.a,exitStage:function(){return o("chooseUsernameId")},setAvatar:S});case"choosePasswordId":return r.a.createElement(fe,{createAccount:de,exitStage:function(){return o("accountCreateIntroId")},setPassword:X,password:R});case"creatingAccountId":return r.a.createElement(we,{accountCreateDone:Z,item0:V,item1:$,item2:ne,item3:se});default:return r.a.createElement("h1",null,"Oops...")}},Oe=a(18),Se=a.n(Oe),je=a(769),Ce=a(770),ke=a(771),Ie=a(772),Te=function(e){e.nextStage;var t=e.exitStage,a=(e.avatar,e.username,e.myIdentityStage),n=e.shortCodeStage,c=e.resolveStage;return r.a.createElement("div",{className:Se.a.formcontainer},r.a.createElement("div",{className:Se.a.closeButton,onClick:t},r.a.createElement("div",{className:ne.a.closeicon})),r.a.createElement("div",{className:Se.a.homemenu},r.a.createElement("div",{className:Se.a.title},"Account"),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{className:Se.a.menuitem,onClick:a},r.a.createElement(je.a,null),r.a.createElement("div",null,"Account settings")),r.a.createElement("div",{className:Se.a.menuitem},r.a.createElement(Ce.a,null),r.a.createElement("div",null,"Wallet")),r.a.createElement("div",{className:Se.a.menuitem,onClick:n},r.a.createElement(ke.a,null),r.a.createElement("div",null,"Get verified")),r.a.createElement("div",{className:Se.a.menuitem,onClick:c},r.a.createElement(Ie.a,null),r.a.createElement("div",null,"Verify a friend"))))},Ae=(a(171),function(e){var t=e.nextStage,a=e.exitStage,n=(e.shortCode,e.resolveShort,e.avatarStage,e.avatar),c=e.username,o=(e.setUsername,e.publicKey,e.address,e.QR,e.logOut);return r.a.createElement("div",{className:Se.a.formcontainer},r.a.createElement("div",{className:Se.a.closeButton,onClick:a},r.a.createElement("div",{className:ne.a.exitgrayicon})),r.a.createElement("div",{onClick:function(){return Z(c)},className:Se.a.placeholder},r.a.createElement("img",{className:Se.a.avatarImage,src:n,alt:"avatar"})),r.a.createElement("div",{className:Se.a.subtitle},c),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"edit account"))),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.link,onClick:o},"Logout"))}),Be=function(e){var t=e.nextStage,a=e.removeAccount;return r.a.createElement("div",{className:Se.a.containerred},r.a.createElement("div",{className:Se.a.title},"Do you want to remove your account?"),r.a.createElement("div",{className:Se.a.subtitle},"This will permanently remove your account. You can only restore with the mnemonic (wordlist)."),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{className:Se.a.dialogiconbox},r.a.createElement("div",{className:[ne.a.iconbuttonbig,Se.a.cancel].join(" "),onClick:t},r.a.createElement("div",{className:ne.a.xmarkicon})),r.a.createElement("div",{className:[ne.a.iconbuttonbig,Se.a.confirm].join(" "),onClick:a},r.a.createElement("div",{className:ne.a.vmarkicon}))))},Pe=function(e){e.nextStage;var t=e.exitStage,a=e.shortcode,n=void 0===a?{code:""}:a,c=e.newShort;return r.a.createElement("div",{className:Se.a.formcontainer},r.a.createElement("div",{className:Se.a.closeButton,onClick:t},r.a.createElement("div",{className:ne.a.exitgrayicon})),r.a.createElement("div",{className:Se.a.titleblue},n.code),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{onClick:c,className:Se.a.button},"New shortcode plz"))};var De=function(e){e.nextStage;var t=e.exitStage,a=e.peerAvatar,c=e.peerUsername,o=e.peerAddress,l=e.resolveShortcode,s=Object(n.useState)(),i=Object(m.a)(s,2),u=i[0],d=i[1];return r.a.createElement("div",{className:Se.a.formcontainer},r.a.createElement("div",{className:Se.a.closeButton,onClick:t},r.a.createElement("div",{className:ne.a.exitgrayicon})),r.a.createElement("div",{className:Se.a.titleblue},r.a.createElement("input",{className:Se.a.usernameinput,placeholder:"Shortcode",onChange:function(e){return function(e){d(e.target.value)}(e)},value:u})),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{onClick:function(){console.log("Short code to resolve: ",u),l(u)},className:Se.a.button},"Resolve shortcode"),r.a.createElement("div",{className:Se.a.flexer}),r.a.createElement("div",{className:Se.a.placeholder},r.a.createElement("img",{className:Se.a.avatarImage,src:a,alt:"avatar"})),r.a.createElement("div",null,c),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:o})))};var Fe=function(){var e=Object(n.useState)("myIdentity"),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(d.c)((function(e){return function(e){return e.account}(e)})),l=Object(d.b)(),_=Object(u.e)(),p=function(e){return l({type:"SET_ACCOUNT",data:{avatar:e}})};function f(){return(f=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(o.username);case 2:l({type:"SET_SYSTEM",data:{unlocked:!1,passWord:""}}),_.push("/unlock");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}switch(a){case"accountHome":return r.a.createElement(Te,{myIdentityStage:function(){return c("myIdentity")},shortCodeStage:function(){return c("shortcodeStage")},resolveStage:function(){return c("resolveShort")}});case"myIdentity":return r.a.createElement(Ae,{avatar:o.avatar,avatarStage:function(){return c("avatarStage")},username:o.username,setUsername:function(e){return l({type:"SET_ACCOUNT",data:{username:e}})},setAvatar:p,publicKey:o.publicKey,address:o.address,nextStage:function(){return c("removeAccount")},exitStage:function(){return console.log("exit"),void _.push("/drive/root")},shortCode:function(){l({type:"CREATE_SHORTCODE",data:{username:o.username,useravatar:o.avatar}}),c("shortcodeStage")},resolveShort:function(){return c("resolveShort")},logOut:function(){return function(){return f.apply(this,arguments)}()}});case"removeAccount":return r.a.createElement(Be,{nextStage:function(){return c("myIdentity")},removeAccount:function(){l({type:"RESET_ACCOUNT"}),_.push("/")}});case"avatarStage":return r.a.createElement(xe,{setAvatar:p,avatar:o.avatar,exitStage:function(){return c("myIdentity")}});case"shortcodeStage":return r.a.createElement(Pe,{shortcode:o.shortcode,nextStage:function(){return c()},exitStage:function(){return c()},newShort:function(){l({type:"CREATE_SHORTCODE",data:""})}});case"resolveShort":return r.a.createElement(De,{nextStage:function(){return c()},exitStage:function(){return c()},resolveShortcode:function(e){console.log(e),l({type:"RESOLVE_SHORTCODE",data:e})},peerAvatar:o.peerAvatar,peerUsername:o.peerUsername,peerAddress:o.peerAddress});default:return r.a.createElement("h1",null,"Oops...")}},We=(a(406),a(98)),Ue=a.n(We);var Re=function(e){var t=e.nextStage,a=(e.exitStage,e.appname),n=e.appicon,c=e.account,o=void 0===c?{locked:!0}:c;console.log("connect home");var l=Object(d.b)();return r.a.createElement("div",{className:Ue.a.container},r.a.createElement("div",{className:Ue.a.title},"Fairdrive Connect"),r.a.createElement("div",{className:Ue.a.flexer}),n?r.a.createElement("div",null,r.a.createElement("img",{src:n,className:Ue.a.appicon})):"",a?r.a.createElement("div",{className:Ue.a.subtitle},r.a.createElement("b",null,a)," wants to connect to  Fairdrive. It will get it's own folder to write in."):"",a&&n?r.a.createElement("div",null,o.locked?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"Allow"))):r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:function(){return l({type:"SET_SYSTEM",data:{passwordShow:!0}})}},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"Unlock to allow")))):"",r.a.createElement("div",{className:Ue.a.flexer}),a&&n?r.a.createElement("div",null,o.locked?"":r.a.createElement("div",{className:ne.a.link},"Get me out of here")):"")};var Le=function(){var e=Object(u.f)(),t=e.id,a=Object(d.c)((function(e){return function(e){return e.account}(e)}));Object(n.useEffect)((function(){console.log("account:",a.privateKey),y(e.id,a.privateKey,"1234",a.mnemonic)}),[a.privateKey]);var c=Object(n.useState)("connectHomeId"),o=Object(m.a)(c,2),l=o[0],_=o[1],p=Object(n.useState)(),f=Object(m.a)(p,2),v=f[0],b=(f[1],Object(n.useState)()),h=Object(m.a)(b,2),E=h[0],y=(h[1],function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Date).toISOString();case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}());switch(Object(d.b)(),Object(u.e)(),l){case"connectHomeId":return r.a.createElement(Re,{id:t,appname:v,appicon:E,account:a,nextStage:function(){return _()},exitStage:function(){return _()}});default:return r.a.createElement("h1",null,"Oops...")}},Xe=a(4),ze=a.n(Xe),Ge=a(38);function Ze(e){return e.replace(/&/g,"/")}var He=a(773),Me=a(778),Ke=a(62),Ye=a(61),Ve=a.n(Ye);function Qe(e){var t=e.open,a=e.path,c=e.refresh,o=e.onClose;console.log("from newdialog: ",t,a);var l=Object(n.useState)("homeId"),u=Object(m.a)(l,2),d=u[0],_=u[1],p=Object(n.useState)(),f=Object(m.a)(p,2),v=f[0],b=f[1],h=Object(n.useState)("ready"),E=Object(m.a)(h,2),y=(E[0],E[1],Object(n.useState)(0)),g=Object(m.a)(y,2),x=g[0],w=g[1],N=Object(n.useRef)(null);function O(){_("homeId"),o()}function S(e){N.current.click()}function j(e){!function(e){I.apply(this,arguments)}(e.target.files)}function C(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(v),t="",t="root"==a?"/":"/"+Ze(a)+"/",e.next=5,Y(t+v);case 5:c(a),O();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _("uploadingId"),e.next=3,T(t,Ze(a),(function(e,t){w(Math.round(e/t*100)),e==t&&_("swarmuploadId")})).then((function(){O(),_("homeId"),c(a)})).catch((function(){_("errorId")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Me.a,{open:t,fullWidth:"fullWidth"},r.a.createElement("div",{className:ze.a.dialogContainer},function(){switch(d){case"homeId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"New"),r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("div",{className:ze.a.menuitem,onClick:function(){return _("newFolderId")}},r.a.createElement(Ve.a,{path:Ke.b,className:ze.a.blue,size:"24px"}),"New folder"),r.a.createElement("div",{className:ze.a.menuitem,onClick:function(){return _("uploadId")}},r.a.createElement(Ve.a,{path:Ke.d,className:ze.a.blue,size:"24px"}),"Upload files"));case"newFolderId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"New folder"),r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("input",{className:ze.a.nameInput,placeholder:"Folder name",type:"text",onChange:function(e){return function(e){b(e.target.value)}(e)}}),r.a.createElement("div",{className:ze.a.flexer}),r.a.createElement("div",{onClick:C,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> create folder")));case"uploadId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Upload"),r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("div",{onClick:S,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> select files")),r.a.createElement("input",{multiple:"multiple",type:"file",ref:N,onChange:j,style:{display:"none"}}));case"uploadingId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon})),r.a.createElement("div",{className:ze.a.uploadSpace,onClick:S},r.a.createElement("div",{className:ze.a.statusText},"Uploading..."),r.a.createElement(He.a,{className:ze.a.progress,variant:"determinate",value:x})));case"swarmuploadId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon})),r.a.createElement("div",{className:ze.a.uploadSpace,onClick:S},r.a.createElement("div",{className:ze.a.statusText},"Storing on Swarm..."),r.a.createElement(He.a,{className:ze.a.progress})));case"errorId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.close,onClick:O},r.a.createElement("div",{className:ze.a.closeicon})),r.a.createElement("div",{className:ze.a.uploadSpace,onClick:S},r.a.createElement("div",{className:ze.a.statusText},"Error...")))}}()))}function qe(e){var t=e.open,a=e.path,c=e.refresh,o=e.onClose,l=e.item;console.log("from newdialog: ",t,a);var u=Object(n.useState)("homeId"),d=Object(m.a)(u,2),_=d[0],p=d[1],f=Object(n.useState)(),v=Object(m.a)(f,2),b=v[0],h=v[1],E=Object(n.useState)(),y=Object(m.a)(E,2),g=(y[0],y[1]),x=Object(n.useState)(),w=Object(m.a)(x,2),N=w[0],O=w[1],S=Object(n.useState)(),j=Object(m.a)(S,2);j[0],j[1];function C(){p("homeId"),o()}function k(){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(a),C();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",t="root"==a?"/":"/"+Ze(a)+"/","inode/directory"!=l.content_type){e.next=7;break}return e.next=5,Q(t+l.name);case 5:e.next=9;break;case 7:return e.next=9,J(t+l.name);case 9:c(a),C();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",t="root"==a?"/":"/"+Ze(a)+"/",e.next=4,ee(t+l.name);case 4:n=e.sent,console.log(n),O(n),p("showShareId"),D();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){var e=document.getElementById("link");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}Object(n.useEffect)((function(){h(l.name),console.log(l)}),[l]);return r.a.createElement(Me.a,{open:t,fullWidth:"fullWidth"},r.a.createElement("div",{className:ze.a.dialogContainer},function(){switch(_){case"homeId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Action: ",l.name),r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("div",{className:ze.a.menuitem,onClick:function(){return p("shareId")}},r.a.createElement(Ve.a,{path:Ke.b,className:ze.a.blue,size:"24px"}),"Share"),r.a.createElement("div",{className:ze.a.menuitem,onClick:function(){return p("deleteId")}},r.a.createElement(Ve.a,{path:Ke.b,className:ze.a.blue,size:"24px"}),"Delete"));case"shareId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Share"),r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("input",{className:ze.a.nameInput,placeholder:"Friend's name",type:"text",onChange:function(e){return function(e){g(e.target.value)}(e)}}),r.a.createElement("div",{className:ze.a.flexer},r.a.createElement("div",{onClick:B,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> share"))));case"renameId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Rename folder"),r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("input",{className:ze.a.nameInput,value:b,type:"text",onChange:function(e){return function(e){h(e.target.value)}(e)}}),r.a.createElement("div",{className:ze.a.flexer}),r.a.createElement("div",{onClick:k,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> rename folder")));case"deleteId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Delete ",l.name,"?"),r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("div",{onClick:T,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> remove permanently")));case"showShareId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.menutitle},r.a.createElement("div",null,"Share this link with a friend"),r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon}))),r.a.createElement("div",{className:ze.a.shareLinkPlace},r.a.createElement("input",{type:"text",value:"https://fairdrive.org/#/receive/"+N,className:ze.a.nameInput,id:"link"})),r.a.createElement("div",{className:ze.a.shareLink},"Link copied to clipboard!"),r.a.createElement("div",{onClick:C,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> close")));case"errorId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.close,onClick:C},r.a.createElement("div",{className:ze.a.closeicon})),r.a.createElement("div",{className:ze.a.uploadSpace},r.a.createElement("div",{className:ze.a.statusText},"Error...")))}}()))}var Je=a(354),$e=a.n(Je),et=a(219),tt=a.n(et);function at(e){var t=e.open,a=e.path,c=e.item,o=(e.refresh,e.onClose),l=Object(n.useState)("homeId"),u=Object(m.a)(l,2),d=u[0],_=u[1],p=Object(n.useState)(0),f=Object(m.a)(p,2),v=f[0],b=f[1],h=Object(n.useState)(),E=Object(m.a)(h,2),y=E[0],g=E[1],x=Object(n.useState)(),w=Object(m.a)(x,2),N=w[0],O=w[1];function S(){_("homeId"),o()}function j(){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",t="root"==a?"/":"/"+Ze(a)+"/",e.next=4,B(t+c.name,c.name).catch((function(e){return console.error(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){c.size&&(b($e()(parseInt(c.size))),g(tt.a.unix(c.creation_time).from()),O(tt.a.unix(c.modification_time).from()))}),[c]);return r.a.createElement(Me.a,{open:t,fullWidth:"fullWidth"},r.a.createElement("div",{className:ze.a.dialogContainer},function(){switch(d){case"homeId":return r.a.createElement("div",{className:ze.a.foldermenu},r.a.createElement("div",{className:ze.a.close,onClick:S},r.a.createElement("div",{className:ze.a.closeicon})),r.a.createElement("div",{className:ze.a.menutitle},c.name),r.a.createElement("div",{className:ze.a.fileProps},"Type: ",c.content_type),r.a.createElement("div",{className:ze.a.fileProps},"Filesize: ",v),r.a.createElement("div",{className:ze.a.fileProps},"Created: ",y),r.a.createElement("div",{className:ze.a.fileProps},"Modified: ",N),r.a.createElement("div",{onClick:j,className:ze.a.buttonPlace},r.a.createElement("div",{className:ne.a.buttontext},"> download")))}}()))}var nt=a(774),rt=a(775),ct=a(776);var ot=function(e){e.nextStage,e.exitStage;var t=e.path,a=e.contents,c=e.account,o=e.refresh,l=e.setFolderShown,s=(e.gotoPreview,Object(n.useState)("")),i=Object(m.a)(s,2),_=i[0],f=i[1],v=Object(n.useState)(!1),b=Object(m.a)(v,2),h=b[0],E=b[1],y=Object(n.useState)(!1),g=Object(m.a)(y,2),x=g[0],w=g[1],N=Object(n.useState)(!1),O=Object(m.a)(N,2),S=O[0],j=O[1],C=Object(n.useState)(""),k=Object(m.a)(C,2),I=(k[0],k[1],Object(n.useState)("")),T=Object(m.a)(I,2),A=T[0],B=T[1],P=Object(n.useState)("name"),D=Object(m.a)(P,2),F=D[0],W=(D[1],Object(d.b)(),Object(u.e)());function U(){E(!1)}function R(e){f(e),E(!0)}function L(e){if(console.log(e),"inode/directory"==e.content_type){var a="";a="root"==t?"":t+"&",W.push("/drive/"+a+e.name)}else B(e),j(!0)}function X(e){return console.log(Ze(e).split("/")),Ze(e).split("/")}function z(e,t){var a=X(t),n=a.indexOf(e);return(a=a.slice(0,n+1)).join("&")}return Object(n.useEffect)((function(){l(!0)}),[]),r.a.createElement("div",{className:ze.a.container},r.a.createElement("div",{className:ze.a.topbar},r.a.createElement("div",{className:ze.a.topmenu},r.a.createElement("div",{className:ze.a.user},r.a.createElement("img",{className:ze.a.avatar,src:c.avatar}),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){W.push("/account")},className:ze.a.username},c.username),r.a.createElement("div",{className:ze.a.balance},c.balance,"\xa0 BZZ"))),r.a.createElement("div",{className:ze.a.addButton,onClick:function(){w(!0)}},r.a.createElement(rt.a,{fontSize:"large"}))),r.a.createElement("div",{className:ze.a.flexer}),r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.title},"root"===t?"My Fairdrive":function(e){return e.split("/").pop()}(Ze(t))),"root"!=t?r.a.createElement("div",{className:ze.a.breadcrumb},r.a.createElement("div",null,"Back to: \xa0"),r.a.createElement(Ge.b,{className:ze.a.breadcrumbitem,to:"/drive/root"},"My Fairdrive/"),function(e){var t=X(e);return console.log(t),(t=t.slice(0,t.length-1)).map((function(t){return r.a.createElement("div",{className:ze.a.breadcrumbspace},r.a.createElement(Ge.b,{className:ze.a.breadcrumbitem,to:z(t,e)},t+"/"))}))}(t)):"")),r.a.createElement("div",{className:ze.a.innercontainer},a?function(e){switch(e.entries.length){case 0:return r.a.createElement("div",{className:ze.a.folderLoading},"Nothing here yet.");default:return e.entries.sort((t=F,a="asc","asc"===a?function(e,a){return e[t]>a[t]?1:-1}:function(e,a){return a[t]>e[t]?1:-1})).map((function(e){return r.a.createElement("div",{key:e.name,className:ze.a.rowItem},r.a.createElement("div",{onClick:function(){return L(e.name)}},function(e){switch(e){case"inode/directory":return r.a.createElement(Ve.a,{path:Ke.a});case"application/zip":return r.a.createElement(Ve.a,{path:Ke.e});case"mp3":return r.a.createElement(nt.a,null);default:return r.a.createElement("img",{className:ze.a.fileIcon,src:p.a})}}(e.content_type)),r.a.createElement("div",{onClick:function(){return L(e)},className:ze.a.folderText},e.name),r.a.createElement("div",null,r.a.createElement(Ve.a,{path:Ke.c,onClick:function(){return R(e)},className:ze.a.custom,rotate:90,size:"36px"})))}))}var t,a}(a):r.a.createElement("div",{className:ze.a.folderLoading},r.a.createElement(ct.a,null))),r.a.createElement(qe,{open:h,onClose:function(){return U()},path:t,refresh:o,item:_}),r.a.createElement(Qe,{open:x,onClose:function(){w(!1)},path:t,refresh:o,item:_}),r.a.createElement(at,{open:S,onClose:function(){j(!1)},path:t,refresh:o,item:A}))};var lt=function(){var e=Object(u.f)().path,t=Object(d.c)((function(e){return function(e){return e.account}(e)})),a=Object(d.c)((function(e){return function(e){return e.system}(e)})),c=Object(n.useState)(null),o=Object(m.a)(c,2),l=o[0],_=o[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),v=f[0],b=f[1];function h(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace(/&/g,"/"),e.next=3,D(n,a.passWord);case 3:return r=e.sent,console.log(r),_(r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){_(null),v&&h(e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}),[v,e]);var y=Object(n.useState)("folderViewId"),g=Object(m.a)(y,2),x=g[0],w=g[1];switch(x){case"folderViewId":return r.a.createElement(ot,{path:e,setFolderShown:b,refresh:h,account:t,contents:l,nextStage:function(){return w()},exitStage:function(){return w()}});default:return r.a.createElement("h1",null,"Oops...")}};a(238);var st=a(99),it=a.n(st);var ut=function(e){e.shareId;var t=e.account,a=e.filename,n=void 0===a?"The Matrix 720p.mp4":a,c=e.fileicon,o=void 0===c?"data:base64":c,l=e.nextStage;return r.a.createElement("div",{className:it.a.container},r.a.createElement("div",{className:it.a.title},"Fairdrive Receive"),r.a.createElement("div",{className:it.a.flexer}),o?r.a.createElement("div",null,r.a.createElement("img",{src:o,className:it.a.appicon})):"",n?r.a.createElement("div",{className:it.a.subtitle},r.a.createElement("b",null,n),"\xa0 will be saved to your Inbox folder."):""," ",n&&o?r.a.createElement("div",null,t.locked?r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:l},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"Save"))):r.a.createElement("div",{tabIndex:"2",className:ne.a.button},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"Unlock to allow")))):"",r.a.createElement("div",{className:it.a.flexer}),n&&o?r.a.createElement("div",null,t.locked?"":r.a.createElement("div",{className:ne.a.link},"Get me out of here")):"")};var mt=[{path:"/account-create",exact:!0,component:Ne},{path:"/account",exact:!0,component:Fe},{path:"/connect/:id",component:Le},{path:"/drive/:path",component:lt},{path:"/unlock",exact:!0,component:function(e){e.open;var t=Object(d.b)(),a=Object(u.e)(),c=Object(d.c)((function(e){return function(e){return e.account}(e)})),o=Object(d.c)((function(e){return function(e){return e.system}(e)})),l=Object(n.useState)(),_=Object(m.a)(l,2),p=_[0],f=_[1];function v(){return(v=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(c.username,p);case 2:if(200!=e.sent.data.code){e.next=13;break}return e.next=6,Z(c.username);case 6:n=e.sent,console.log(n),t({type:"SET_ACCOUNT",data:{avatar:n}}),t({type:"SET_SYSTEM",data:{passWord:p}}),a.push("/drive/root"),e.next=14;break;case 13:console.log("user not logged in");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(o),o.unlocked&&a.push("/drive/root")})),r.a.createElement("div",{className:ne.a.dialogBox},r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.title},"Unlock your account"),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("img",{src:c.avatar,className:ne.a.dialogAvatar}),r.a.createElement("div",{className:ne.a.username},c.username),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.dialogPasswordBox},r.a.createElement("input",{className:ne.a.dialogPassword,type:"password",placeholder:"Password",onChange:function(e){return function(e){f(e.target.value)}(e)}})),r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:function(){return v.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"continue"))),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.link,onClick:function(){a.push("/login")}},"Sign in with another account"))}},{path:"/login",exact:!0,component:function(e){e.open;var t=Object(d.b)(),a=Object(u.e)(),c=(Object(d.c)((function(e){return function(e){return e.account}(e)})),Object(d.c)((function(e){return function(e){return e.system}(e)}))),o=Object(n.useState)(),l=Object(m.a)(o,2),_=l[0],p=l[1],f=Object(n.useState)(),v=Object(m.a)(f,2),b=v[0],h=v[1];function E(){return(E=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(_,b).catch((function(e){return console.error(e)}));case 2:if(n=e.sent,console.log(n),200!=n.data.code){e.next=15;break}return e.next=7,Z(_);case 7:r=e.sent,console.log(r),t({type:"SET_ACCOUNT",data:{username:_,avatar:r,balance:0}}),t({type:"SET_SYSTEM",data:{passWord:b}}),console.log(r),a.push("/drive/root"),e.next=16;break;case 15:console.log("user not logged in");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(c),c.unlocked&&a.push("/drive/root")})),r.a.createElement("div",{className:ne.a.dialogBox},r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.title},"Login to your account"),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.dialogPasswordBox},r.a.createElement("input",{className:ne.a.dialogPassword,type:"text",placeholder:"Username",onChange:function(e){return function(e){p(e.target.value)}(e)}})),r.a.createElement("div",{className:ne.a.dialogPasswordBox},r.a.createElement("input",{className:ne.a.dialogPassword,type:"password",placeholder:"Password",onChange:function(e){return function(e){h(e.target.value)}(e)}})),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{className:ne.a.flexer}),r.a.createElement("div",{tabIndex:"2",className:ne.a.button,onClick:function(){return E.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("div",{className:ne.a.buttontext},"continue"))))}},{path:"/receive/:shareId",component:function(){var e=Object(u.f)(),t=Object(d.c)((function(e){return function(e){return e.account}(e)}));console.log(t);var a=Object(n.useState)(""),c=Object(m.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)("waitingId"),i=Object(m.a)(s,2),_=i[0],p=i[1];switch(Object(n.useEffect)((function(){p("fileReceiveAcceptId"),l(e.shareId)}),[t.locked]),console.log(o),_){case"waitingId":return r.a.createElement("div",null,"Waiting");case"fileReceiveAcceptId":return r.a.createElement(ut,{account:t,shareId:o})}}}],dt=a(362),_t=a(777),pt=a(168),ft=Object(dt.a)({palette:{primary:{main:"#92e7fa",light:"#cecece",background:"#333333"},secondary:{main:pt.a[500]}}});var vt=function(){var e=Object(d.c)((function(e){return function(e){return e.system}(e)})),t=Object(d.c)((function(e){return function(e){return e.account}(e)})),a=Object(d.b)(),c=Object(u.e)();return Object(n.useEffect)((function(){function n(){return(n=Object(i.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("noAccount"!==t.status){n.next=4;break}c.push("/account-create"),n.next=7;break;case 4:return n.next=6,j(t.username).then((function(t){t.data.loggedin&&e.passWord?(c.push("/drive/root"),a({type:"SET_SYSTEM",data:{unlocked:!0}})):c.push("/unlock")})).catch((function(e){return e}));case 6:n.sent;case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().catch((function(e){return console.log(e)}))}),[t.status]),r.a.createElement(_t.a,{theme:ft}," "," "," ",r.a.createElement("div",{className:ne.a.swarmcity}," "," "," ",mt.map((function(e){var t=e.path,a=e.exact,n=e.component;return r.a.createElement(u.a,Object.assign({key:t},{path:t,exact:a,component:n}))}))," "," "," ")," "," ")},bt=a(43),ht=a(165),Et=a(166),yt=a(363),gt=a(163),xt=a(355),wt=a(42),Nt={status:"noAccount",locked:!0};var Ot=Object(gt.persistentReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT":return Object(bt.a)(Object(bt.a)({},e),t.data);case"RESET_ACCOUNT":return Object(bt.a)({},Nt);default:return e}}),{name:"account"}),St={mountPoint:"account",reducer:Ot},jt={showPasswordUnlock:!1,hasUser:!1,passWord:null,mnemonic:null,unlocked:!1};var Ct={mountPoint:"system",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SYSTEM":return console.log("system",t),Object(bt.a)(Object(bt.a)({},e),t.data);default:return e}}},kt={};var It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRIVE":return console.log("drive",t),Object(bt.a)(Object(bt.a)({},e),t.data);default:return e}},Tt=a(79),At=(a(346),a(50)),Bt=(Object(At.a)((function(e){return e.account}),(function(e){return e})),s.a.mark(Dt)),Pt=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:5e3});function Dt(e){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getDriveContent saga started"),e.prev=1,t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,Pt({method:"POST",url:"pod/open",data:E.a.stringify({password:"1234",pod:"Fairdrive"}),config:t,withCredentials:!0});case 5:return a=e.sent,console.log(a),e.next=9,Pt({method:"POST",url:"dir/ls",data:E.a.stringify({dir:"/"}),config:t,withCredentials:!0});case 9:return n=e.sent,console.log(n),e.next=13,Object(Tt.b)({type:"SET_DRIVE",data:{fairdrive:n.data}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("error on timeout",e.t0);case 18:case"end":return e.stop()}}),Bt,null,[[1,15]])}var Ft=s.a.mark(Ut),Wt=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:5e3});function Ut(e){var t,a,n,r,c;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(console.log("uploadFilesSaga saga started"),o.prev=1,t={headers:{"Content-Type":"multipart/form-data"}},a=new FormData,n=e.data.length,r=0;r<n;r++)a.append("files",e.data[r]);return a.append("pod_dir","/Pictures"),a.append("block_size","64Mb"),o.next=10,Wt({method:"POST",url:"file/upload",data:a,config:t,withCredentials:!0});case 10:c=o.sent,console.log(c),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("error on timeout",o.t0);case 17:case"end":return o.stop()}}),Ft,null,[[1,14]])}var Rt=s.a.mark(Lt);function Lt(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.c)("GET_DRIVE",Dt);case 2:return e.next=4,Object(Tt.c)("UPLOAD_FILES",Ut);case 4:case"end":return e.stop()}}),Rt)}var Xt={account:St,system:Ct,drive:{mountPoint:"drive",reducer:It,saga:Lt}},zt={},Gt={};Object.values(Xt).forEach((function(e){var t=e.mountPoint,a=e.reducer;Gt[t]=a}));var Zt=Object(wt.c)(Object(bt.a)(Object(bt.a)({},Gt),{},{globalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;return t.type,e}})),Ht=s.a.mark(Mt);function Mt(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.a)(Object(ht.a)(Object.values(Xt).filter((function(e){return e.saga})).map((function(e){return e.saga()}))));case 2:case"end":return e.stop()}}),Ht)}var Kt=a(359),Yt=a.n(Kt),Vt=a(360);window.myWeb3=new Yt.a("https://goerli.infura.io/v3/46958faea5154db687257f9598b0e269");var Qt=new Vt.Fairdrive("http://localhost:8080");window.fairdrive=Qt;var qt=Object(yt.a)(),Jt=new xt.a({name:"fairdrive"}),$t=Object(gt.persistentStore)({db:Jt}),ea=Object(Et.a)({reducer:Zt,middleware:[qt].concat(Object(ht.a)(Object(Et.b)())),enhancers:[$t],preloadedState:{}}),ta=ea;window.dispatch=function(e,t){ea.dispatch(Object(bt.a)({type:e},t))},qt.run(Mt);var aa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function na(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(d.a,{store:ta},r.a.createElement(Ge.a,null,r.a.createElement(vt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");aa?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):na(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):na(t,e)}))}}()},98:function(e,t,a){e.exports={container:"connect_container__22mdx",title:"connect_title__1nIrZ styles_mainTitle1__2NSyK",subtitle:"connect_subtitle__3e_JC styles_bodyDefault__3HIAZ",closeButton:"connect_closeButton__1om2_",appicon:"connect_appicon__1RkAz",flexer:"connect_flexer__3kIIw"}},99:function(e,t,a){e.exports={container:"filereceive_container__Qrs0f",title:"filereceive_title__3DhOq styles_mainTitle1__2NSyK",subtitle:"filereceive_subtitle__3dyJj styles_bodyDefault__3HIAZ",closeButton:"filereceive_closeButton__2D8Sl",appicon:"filereceive_appicon__3GHh9",flexer:"filereceive_flexer__2fDUA"}}},[[367,1,2]]]);
//# sourceMappingURL=main.bc5aa6c8.chunk.js.map