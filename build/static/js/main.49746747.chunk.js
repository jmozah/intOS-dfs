(this["webpackJsonpintOS-dfs"]=this["webpackJsonpintOS-dfs"]||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.e9316813.png"},15:function(e,t,a){e.exports={container:"account_container__2L7yZ",containergreen:"account_containergreen__1bYbz account_container__2L7yZ",containerred:"account_containerred__Pr9Wr account_container__2L7yZ",formcontainer:"account_formcontainer__McUFC account_container__2L7yZ",homemenu:"account_homemenu__YnUIf",menuitem:"account_menuitem__236zv styles_link__dxACx styles_baseGlowText__1theI",closeButton:"account_closeButton__tyeGR",title:"account_title__30A5t styles_mainTitle1__2NSyK",titleblue:"account_titleblue__GVFLB styles_mainTitle1__2NSyK",formtitle:"account_formtitle__1N0zm styles_mainTitle1__2NSyK",formsubtitle:"account_formsubtitle__1-9x_ styles_smallLight__19t_v",subtitle:"account_subtitle__2J-4Y styles_bodyBold__1X9lW",username:"account_username__1aprD styles_bodyBold__1X9lW",showkeystoggle:"account_showkeystoggle__btpHO styles_smallBold__2dgD2",box:"account_box__3sWxf styles_bodyBold__1X9lW",placeholder:"account_placeholder__1nwcI",avatarImage:"account_avatarImage__20H7B",button:"account_button__3QcM_ undefined styles_baseShadow__3Xdrr",buttontext:"account_buttontext__3q788",buttongray:"account_buttongray__gG2fG undefined styles_baseShadow__3Xdrr",buttontextblue:"account_buttontextblue__2EoKJ",removeButton:"account_removeButton__2gf1s account_button__3QcM_ undefined styles_baseShadow__3Xdrr",uploadicon:"account_uploadicon__B5GK-",arrowup:"account_arrowup__YN0j2",avatareditor:"account_avatareditor__xXpdz",usernameinputbox:"account_usernameinputbox__44tYc",usernameinput:"account_usernameinput__Fs7CI styles_bodyDefault__3HIAZ",passwordflex:"account_passwordflex__1EOfU",flexer:"account_flexer__3lOX9",dialogiconbox:"account_dialogiconbox__33Rx6",confirm:"account_confirm__2oVIW",cancel:"account_cancel__3941a",sliderbox:"account_sliderbox__2G563",blacktext:"account_blacktext__2LjGW styles_smallBold__2dgD2",choosefile:"account_choosefile__3F7iQ styles_smallBold__2dgD2",nextbuttonbox:"account_nextbuttonbox__3OnBq",mnemonic:"account_mnemonic__mBAFU styles_bodyBold__1X9lW",mnemoniccheck:"account_mnemoniccheck__2QlI_",fileinput:"account_fileinput__1kNha",textField:"account_textField__3jCQt",qrcode:"account_qrcode__37Mn-"}},339:function(e,t,a){e.exports=a(718)},344:function(e,t,a){},358:function(e,t){},360:function(e,t){},369:function(e,t){},371:function(e,t){},378:function(e,t){},380:function(e,t){},435:function(e,t){},437:function(e,t){},443:function(e,t){},48:function(e,t,a){e.exports={container:"drive_container__2Yd9r",topbar:"drive_topbar__2n5-s",innercontainer:"drive_innercontainer__1QlGA",title:"drive_title__1Jze8 styles_mainTitle1__2NSyK",subtitle:"drive_subtitle__3NTHc styles_bodyDefault__3HIAZ",username:"drive_username__29r74 styles_bodyBold__1X9lW",balance:"drive_balance__c5uoh styles_bodyBold__1X9lW styles_baseGlowText__1theI",status:"drive_status__2tFyY styles_bodyDefault__3HIAZ",rowItem:"drive_rowItem__2s4Nd styles_bodyBold__1X9lW",folderText:"drive_folderText__2Py_v",fileIcon:"drive_fileIcon__1Hpkz",closeButton:"drive_closeButton__29OhI",appicon:"drive_appicon__29o3R",flexer:"drive_flexer__B40Wp"}},5:function(e,t,a){e.exports={baseShadow:"styles_baseShadow__3Xdrr",baseGlow:"styles_baseGlow__fiX4_",baseGlowText:"styles_baseGlowText__1theI",mainTitle1:"styles_mainTitle1__2NSyK",mainTitle2:"styles_mainTitle2__Si20_",mainTitle3:"styles_mainTitle3__LGCpn",mainTitle4:"styles_mainTitle4__1V0jS",bodyDefault:"styles_bodyDefault__3HIAZ",bodyBold:"styles_bodyBold__1X9lW",bodyDetail:"styles_bodyDetail__3X0gq",smallLight:"styles_smallLight__19t_v",smallBold:"styles_smallBold__2dgD2",smallestLight:"styles_smallestLight__2N7qc",smallestBold:"styles_smallestBold__2t4FG","fair-drive":"styles_fair-drive__17zvp",link:"styles_link__dxACx styles_baseGlowText__1theI",container:"styles_container__d38tt",topbar:"styles_topbar__1EdBD",brand:"styles_brand__3zFIq styles_mainTitle2__Si20_",loginregistertitle:"styles_loginregistertitle__2U9ie styles_bodyBold__1X9lW",title:"styles_title__1o_p0 styles_mainTitle1__2NSyK",breadcrumb:"styles_breadcrumb__bpbO0 styles_mainTitle2__Si20_",h1:"styles_h1__1yNOI styles_mainTitle4__1V0jS",address:"styles_address__9xoaG styles_bodyDefault__3HIAZ",space:"styles_space__1gPRX",breadcrumbpath:"styles_breadcrumbpath__UqK5n styles_bodyBold__1X9lW",exiticonblue:"styles_exiticonblue__2iuy7",exitgrayicon:"styles_exitgrayicon__wSN_K",closeicon:"styles_closeicon__1ph6l",innercontainer:"styles_innercontainer__atUd9",logincontainer:"styles_logincontainer__1R-KF",register:"styles_register__-9W1q",createnew:"styles_createnew__26ZmC styles_smallLight__19t_v",button:"styles_button__jo6qc styles_bodyBold__1X9lW styles_baseGlow__fiX4_",buttontext:"styles_buttontext__Rx19U styles_baseGlowText__1theI",rowfile:"styles_rowfile__3vKca",dirName:"styles_dirName__1mRTc styles_bodyBold__1X9lW",icons8folder:"styles_icons8folder__TMZPE",directoryrow:"styles_directoryrow__1zOps",flaticon:"styles_flaticon__1-ES6",solid:"styles_solid__2wDj6",A1:"styles_A1__28MMj","grid-1":"styles_grid-1__14Q4R",grid:"styles_grid__2je-P",location:"styles_location__3GLdJ",myaccount:"styles_myaccount__2kWuX",handlebalance:"styles_handlebalance__26a3V",avatar:"styles_avatar__1frs7",handle:"styles_handle__3mz5R styles_smallBold__2dgD2",balance:"styles_balance__xoCET styles_smallBold__2dgD2",bigbalance:"styles_bigbalance__IVi1A styles_mainTitle2__Si20_",flexer:"styles_flexer__2JeKy",dialogBox:"styles_dialogBox__2HgZV",dialogTitle:"styles_dialogTitle__2nEyP styles_bodyBold__1X9lW",dialogClose:"styles_dialogClose__3aDEc",dialogAvatar:"styles_dialogAvatar__3yy9Q",dialogPasswordBox:"styles_dialogPasswordBox__1jufA",dialogPassword:"styles_dialogPassword__6v-QG styles_bodyDefault__3HIAZ",dialogPasswordiconbox:"styles_dialogPasswordiconbox__9X6b0"}},554:function(e,t,a){e.exports=a.p+"static/media/todolist.16a96d20.png"},718:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(120),o=a.n(r),l=(a(344),a(28)),s=a(14),i=a.n(s),u=a(69),m=a(17),d=a(26),_=a(124),v=a.n(_),b=a(79),f=a(5),p=a.n(f),y=a(8),g=a.n(y);var E=function(e){var t=e.createStage,a=e.restoreStage;return e.exitStage,c.a.createElement("div",{className:g.a.container},c.a.createElement("div",{className:g.a.title},"Welcome to Fairdrive"),c.a.createElement("div",{className:g.a.subtitle},"In the next steps you will be creating a Fairdrive Wallet."),c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"create account"))),c.a.createElement("div",{tabIndex:"2",className:p.a.button},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext,onClick:a},"restore account"))))},h=a(99),x=a.n(h);function N(){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(){var t,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.a.utils.randomBytes(16),a=x.a.wordlists.en,e.next=4,x.a.utils.entropyToMnemonic(t,a);case 4:return n=e.sent,c=n,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.nextStage,a=e.exitStage,r=e.setMnemonic,o=e.mnemonic;function l(){return(l=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return t=e.sent,console.log(t),a=t.split(" "),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.setWallet,e.setCollection,e.fairdrive,Object(n.useEffect)((function(){(function(){return l.apply(this,arguments)})().then((function(e){r(e)}))}),[r]),c.a.createElement("div",{className:g.a.container},c.a.createElement("div",{className:g.a.closeButton,onClick:a},c.a.createElement("div",{className:p.a.closeicon})),c.a.createElement("div",{className:g.a.title},"Write down this seed phrase"),c.a.createElement("div",{className:g.a.subtitle},"With it, you will always be able to restore your account."),c.a.createElement("div",{className:g.a.mnemonic},o.map((function(e,t){return c.a.createElement("div",{key:t},t+1+". "+e)}))),o.length>=1?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"continue"))):"")},O=a(732);var j=function(e){var t=e.nextStage,a=e.prevStage,r=e.exitStage,o=e.mnemonic;console.log(o[2],o[4],o[7],o[10]);var l=Object(n.useState)(!1),s=Object(m.a)(l,2),i=s[0],u=s[1],d=Object(n.useState)(!1),_=Object(m.a)(d,2),v=_[0],b=_[1],f=Object(n.useState)(!1),y=Object(m.a)(f,2),E=y[0],h=y[1],x=Object(n.useState)(!1),N=Object(m.a)(x,2),S=N[0],w=N[1];return c.a.createElement("div",{className:g.a.container},c.a.createElement("div",{className:g.a.closeButton,onClick:r},c.a.createElement("div",{className:p.a.closeicon})),c.a.createElement("div",{className:g.a.title},"Check your backup"),c.a.createElement("div",{className:g.a.subtitle},"Didn't write it down? You can start over with a ",c.a.createElement("span",{className:g.a.link,onClick:a}," new seed phrase"),"."),c.a.createElement("div",{className:g.a.mnemoniccheck},c.a.createElement("div",{className:g.a.mnemonicinputbox},c.a.createElement("input",{className:g.a.mnemonicinput,placeholder:"word 3",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?u(!0):u(!1)}(2,e)}}),i?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#222222"}})),c.a.createElement("div",{className:g.a.mnemonicinputbox},c.a.createElement("input",{className:g.a.mnemonicinput,placeholder:"word 5",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?b(!0):b(!1)}(4,e)}}),v?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#222222"}})),c.a.createElement("div",{className:g.a.mnemonicinputbox},c.a.createElement("input",{className:g.a.mnemonicinput,placeholder:"word 8",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?h(!0):h(!1)}(7,e)}}),E?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#222222"}})),c.a.createElement("div",{className:g.a.mnemonicinputbox},c.a.createElement("input",{className:g.a.mnemonicinput,placeholder:"word 11",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?w(!0):w(!1)}(10,e)}}),S?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#222222"}}))),i&&v&&E&&S?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"continue"))):"")},C=function(e){var t=e.nextStage,a=e.exitStage,n=e.avatarStage,r=e.username,o=e.setUsername,l=e.avatar;return c.a.createElement("div",{className:g.a.formcontainer},c.a.createElement("div",{className:g.a.closeButton,onClick:a},c.a.createElement("div",{className:p.a.closeicon})),c.a.createElement("div",{className:g.a.title},"Choose an avatar and a username"),c.a.createElement("div",{className:g.a.placeholder},c.a.createElement("img",{src:l,className:g.a.avatarImage,alt:"avatar"})),c.a.createElement("div",{className:g.a.uploadbtn}),c.a.createElement("div",{className:g.a.uploadicon,onClick:n},c.a.createElement("div",{className:g.a.arrowup})),c.a.createElement("div",{className:g.a.usernameinputbox},c.a.createElement("input",{type:"text",autoFocus:!0,className:g.a.usernameinput,placeholder:"Fairdrive User #1263",value:r,onChange:function(e){return o(e.target.value)}})),r.length>=1?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"continue"))):"")};var k=function(e){var t=e.createAccount,a=e.exitStage,r=(e.nextStage,e.setPassword),o=(e.password,Object(n.useState)(!1)),l=Object(m.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(),d=Object(m.a)(u,2),_=d[0],v=d[1],b=Object(n.useState)(),f=Object(m.a)(b,2),y=f[0],E=f[1],h=function(e,t){""!==e|""!==t&&(e===t?(i(!0),r(e)):i(!1))};return c.a.createElement("div",{className:g.a.formcontainer},c.a.createElement("div",{className:g.a.closeButton,onClick:a},c.a.createElement("div",{className:p.a.closeicon})),c.a.createElement("div",{className:g.a.title},"Choose a password"),c.a.createElement("div",{className:g.a.passwordflex}),c.a.createElement("div",{className:g.a.flexer}),c.a.createElement("div",{className:g.a.usernameinputbox},c.a.createElement("input",{type:"password",autoFocus:!0,name:"1",className:g.a.mnemonicinput,placeholder:"Password",value:_,onChange:function(e){return function(e){v(e.target.value),h(e.target.value,y)}(e)}})),c.a.createElement("div",{className:g.a.usernameinputbox},c.a.createElement("input",{type:"password",name:"2",className:g.a.mnemonicinput,placeholder:"Control",value:y,onChange:function(e){return function(e){E(e.target.value),h(e.target.value,_)}(e)}})),s?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"set password"))):"")},I=a(11),T=a(12),B=a(21),A=a(20),W=a(331),D=a.n(W),R=function(e){Object(B.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={image:e.props.avatar,allowZoomOut:!1,position:{x:.5,y:.5},scale:1.2,rotate:0,borderRadius:200,preview:null,width:200,height:200},e.handleSave=function(t){var a=e.editor.getImageScaledToCanvas().toDataURL(),n=e.editor.getCroppingRect();e.setState({preview:{img:a,rect:n,scale:e.state.scale,width:e.state.width,height:e.state.height,borderRadius:e.state.borderRadius}})},e.handleScale=function(t){var a=parseFloat(t.target.value);e.setState({scale:a})},e.handleNewImage=function(t){e.setState({image:t.target.files[0]})},e.rotateRight=function(t){t.preventDefault(),e.setState({rotate:e.state.rotate+90})},e.handlePositionChange=function(t){e.setState({position:t})},e.onClickSave=function(){if(e.editor){var t=e.editor.getImage();e.props.setAvatar(t.toDataURL("image/jpeg",.82)),e.props.exitStage()}},e.setEditorRef=function(t){return e.editor=t},e}return Object(T.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:g.a.formcontainer},c.a.createElement("div",{className:g.a.avatareditor},c.a.createElement("div",{className:p.a.rotateicon,onClick:this.rotateRight}),c.a.createElement(D.a,{ref:this.setEditorRef,scale:parseFloat(this.state.scale),width:this.state.width,height:this.state.height,position:this.state.position,onPositionChange:this.handlePositionChange,rotate:parseFloat(this.state.rotate),borderRadius:this.state.borderRadius,image:this.state.image})),c.a.createElement("div",{className:g.a.sliderbox},c.a.createElement("input",{name:"scale",type:"range",onChange:this.handleScale,min:"1",max:"3",step:"0.01",defaultValue:"1.2"})),c.a.createElement("div",{className:g.a.subtitle},"scroll to zoom - drag to move"),c.a.createElement("label",{for:"newFile",className:g.a.link,onClick:""},"choose another file"),c.a.createElement("input",{hidden:!0,name:"newImage",id:"newFile",accept:".jpg, .jpeg, .png, .gif",type:"file",onChange:this.handleNewImage,className:g.a.fileinput}),c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:this.onClickSave.bind(this)},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"set avatar"))),c.a.createElement("div",{className:g.a.flexer}),c.a.createElement("div",{className:g.a.link},"Cancel"))}}]),a}(c.a.Component);var U=function(e){e.accountCreateDone;var t=e.item0,a=e.item1,n=e.item2,r=e.item3,o=e.nextStage;return c.a.createElement("div",{className:g.a.formcontainer},c.a.createElement("div",{className:g.a.title},"Your account is being created"),c.a.createElement("div",{className:g.a.statusbox},t?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#333333"}}),t?c.a.createElement("div",{style:{color:"#92e7fa"}},"Creating Fairdrive"):c.a.createElement("div",null,"Creating Fairdrive"),a?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#333333"}}),a?c.a.createElement("div",{style:{color:"#92e7fa"}},"Encrypting Private Key"):c.a.createElement("div",null,"Encrypting Private Key"),n?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#333333"}}),n?c.a.createElement("div",{style:{color:"#92e7fa"}},"Encrypting Mnemonic"):c.a.createElement("div",null,"Encrypting Mnemonic"),r?c.a.createElement(O.a,{style:{color:"#92e7fa"}}):c.a.createElement(O.a,{style:{color:"#333333"}}),r?c.a.createElement("div",{style:{color:"#92e7fa"}},"Storing Fairdrive Account"):c.a.createElement("div",null,"Storing Fairdrive Account")),t&&a&&n&&r?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:o},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"To your account"))):"")};var F=function(){var e=Object(d.b)(),t=Object(n.useState)("accountCreateIntroId"),a=Object(m.a)(t,2),r=a[0],o=a[1],s=Object(l.e)(),_=Object(n.useState)([]),b=Object(m.a)(_,2),f=b[0],p=b[1],y=Object(n.useState)(),g=Object(m.a)(y,2),h=(g[0],g[1],Object(n.useState)()),x=Object(m.a)(h,2),N=(x[0],x[1]),S=Object(n.useState)(v.a),O=Object(m.a)(S,2),I=O[0],T=O[1],B=Object(n.useState)(""),A=Object(m.a)(B,2),W=A[0],D=A[1],F=Object(n.useState)(),P=Object(m.a)(F,2),K=P[0],X=P[1],G=Object(n.useState)(!1),L=Object(m.a)(G,2),M=L[0],H=(L[1],Object(n.useState)(!1)),Z=Object(m.a)(H,2),z=Z[0],Y=Z[1],V=Object(n.useState)(!1),q=Object(m.a)(V,2),Q=q[0],J=q[1],$=Object(n.useState)(!1),ee=Object(m.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(m.a)(ne,2),re=ce[0],oe=ce[1],le=function(){var t=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o("creatingAccountId"),a=f.join(" "),Y(!0),{},J(!0),e({type:"CREATE_ACCOUNT",data:{username:W,password:K,mnemonic:a,avatar:I}}),ae(!0),oe(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();switch(r){case"accountCreateIntroId":return c.a.createElement(E,{createStage:function(){return o("mnemonicShowId")},restoreStage:function(){return o()},exitStage:function(){return s.goBack()}});case"mnemonicShowId":return c.a.createElement(w,{fairdrive:window.fairdrive,nextStage:function(){return o("mnemonicCheckId")},exitStage:function(){return o("accountCreateIntroId")},setMnemonic:p,mnemonic:f,setCollection:N});case"mnemonicCheckId":return c.a.createElement(j,{nextStage:function(){return o("chooseUsernameId")},prevStage:function(){return o("mnemonicShowId")},exitStage:function(){return o("accountCreateIntroId")},mnemonic:f});case"chooseUsernameId":return c.a.createElement(C,{avatar:I,setUsername:D,username:W,nextStage:function(){return o("choosePasswordId")},exitStage:function(){return o("accountCreateIntroId")},avatarStage:function(){return o("chooseAvatarId")}});case"chooseAvatarId":return c.a.createElement(R,{avatar:v.a,exitStage:function(){return o("chooseUsernameId")},setAvatar:T});case"choosePasswordId":return c.a.createElement(k,{createAccount:le,exitStage:function(){return o("accountCreateIntroId")},setPassword:X,password:K});case"creatingAccountId":return c.a.createElement(U,{accountCreateDone:M,item0:z,item1:Q,item2:te,item3:re});default:return c.a.createElement("h1",null,"Oops...")}},P=a(15),K=a.n(P),X=a(733),G=a(734),L=a(735),M=a(736),H=function(e){var t=e.nextStage,a=e.exitStage,n=(e.avatar,e.username,e.myIdentityStage),r=e.shortCodeStage,o=e.resolveStage;return c.a.createElement("div",{className:K.a.formcontainer},c.a.createElement("div",{className:K.a.closeButton,onClick:a},c.a.createElement("div",{className:p.a.closeicon})),c.a.createElement("div",{className:K.a.homemenu},c.a.createElement("div",{className:K.a.title},"Account"),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{className:K.a.menuitem,onClick:n},c.a.createElement(X.a,null),c.a.createElement("div",null,"Account settings")),c.a.createElement("div",{className:K.a.menuitem},c.a.createElement(G.a,null),c.a.createElement("div",null,"Wallet")),c.a.createElement("div",{className:K.a.menuitem,onClick:r},c.a.createElement(L.a,null),c.a.createElement("div",null,"Get verified")),c.a.createElement("div",{className:K.a.menuitem,onClick:o},c.a.createElement(M.a,null),c.a.createElement("div",null,"Verify a friend"))),c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"remove account"))))},Z=a(142),z=a.n(Z),Y=function(e){var t=e.nextStage,a=e.exitStage,n=(e.shortCode,e.resolveShort,e.avatarStage,e.avatar),r=e.username,o=(e.setUsername,e.publicKey,e.address),l=void 0===o?"":o;e.QR;return c.a.createElement("div",{className:K.a.formcontainer},c.a.createElement("div",{className:K.a.closeButton,onClick:a},c.a.createElement("div",{className:p.a.exitgrayicon})),c.a.createElement("div",{className:K.a.placeholder},c.a.createElement("img",{className:K.a.avatarImage,src:n,alt:"avatar"})),c.a.createElement("div",{className:K.a.subtitle},r),c.a.createElement("div",null,c.a.createElement(z.a,{size:"128",value:l})),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"edit account"))))},V=function(e){var t=e.nextStage,a=e.removeAccount;return c.a.createElement("div",{className:K.a.containerred},c.a.createElement("div",{className:K.a.title},"Do you want to remove your account?"),c.a.createElement("div",{className:K.a.subtitle},"This will permanently remove your account. You can only restore with the mnemonic (wordlist)."),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{className:K.a.dialogiconbox},c.a.createElement("div",{className:[p.a.iconbuttonbig,K.a.cancel].join(" "),onClick:t},c.a.createElement("div",{className:p.a.xmarkicon})),c.a.createElement("div",{className:[p.a.iconbuttonbig,K.a.confirm].join(" "),onClick:a},c.a.createElement("div",{className:p.a.vmarkicon}))))},q=function(e){e.nextStage;var t=e.exitStage,a=e.shortcode,n=void 0===a?{code:""}:a,r=e.newShort;return c.a.createElement("div",{className:K.a.formcontainer},c.a.createElement("div",{className:K.a.closeButton,onClick:t},c.a.createElement("div",{className:p.a.exitgrayicon})),c.a.createElement("div",{className:K.a.titleblue},n.code),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{onClick:r,className:K.a.button},"New shortcode plz"))};var Q=function(e){e.nextStage;var t=e.exitStage,a=e.peerAvatar,r=e.peerUsername,o=e.peerAddress,l=e.resolveShortcode,s=Object(n.useState)(),i=Object(m.a)(s,2),u=i[0],d=i[1];return c.a.createElement("div",{className:K.a.formcontainer},c.a.createElement("div",{className:K.a.closeButton,onClick:t},c.a.createElement("div",{className:p.a.exitgrayicon})),c.a.createElement("div",{className:K.a.titleblue},c.a.createElement("input",{className:K.a.usernameinput,placeholder:"Shortcode",onChange:function(e){return function(e){d(e.target.value)}(e)},value:u})),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{onClick:function(){console.log("Short code to resolve: ",u),l(u)},className:K.a.button},"Resolve shortcode"),c.a.createElement("div",{className:K.a.flexer}),c.a.createElement("div",{className:K.a.placeholder},c.a.createElement("img",{className:K.a.avatarImage,src:a,alt:"avatar"})),c.a.createElement("div",null,r),c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:o})))};var J=function(){var e=Object(n.useState)("myIdentity"),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(d.c)((function(e){return function(e){return e.account}(e)})),s=Object(d.b)(),i=function(e){return s({type:"SET_ACCOUNT",data:{avatar:e}})},u=Object(l.e)();switch(a){case"accountHome":return c.a.createElement(H,{myIdentityStage:function(){return r("myIdentity")},shortCodeStage:function(){return r("shortcodeStage")},resolveStage:function(){return r("resolveShort")}});case"myIdentity":return c.a.createElement(Y,{avatar:o.avatar,avatarStage:function(){return r("avatarStage")},username:o.username,setUsername:function(e){return s({type:"SET_ACCOUNT",data:{username:e}})},setAvatar:i,publicKey:o.publicKey,address:o.address,nextStage:function(){return r("removeAccount")},exitStage:function(){return r("accountHome")},shortCode:function(){s({type:"CREATE_SHORTCODE",data:{username:o.username,useravatar:o.avatar}}),r("shortcodeStage")},resolveShort:function(){return r("resolveShort")}});case"removeAccount":return c.a.createElement(V,{nextStage:function(){return r("myIdentity")},removeAccount:function(){s({type:"RESET_ACCOUNT"}),u.push("/")}});case"avatarStage":return c.a.createElement(R,{setAvatar:i,avatar:o.avatar,exitStage:function(){return r("myIdentity")}});case"shortcodeStage":return c.a.createElement(q,{shortcode:o.shortcode,nextStage:function(){return r()},exitStage:function(){return r()},newShort:function(){s({type:"CREATE_SHORTCODE",data:""})}});case"resolveShort":return c.a.createElement(Q,{nextStage:function(){return r()},exitStage:function(){return r()},resolveShortcode:function(e){console.log(e),s({type:"RESOLVE_SHORTCODE",data:e})},peerAvatar:o.peerAvatar,peerUsername:o.peerUsername,peerAddress:o.peerAddress});default:return c.a.createElement("h1",null,"Oops...")}},$=(a(554),a(85)),ee=a.n($);var te=function(e){var t=e.nextStage,a=(e.exitStage,e.appname),n=e.appicon,r=e.account,o=void 0===r?{locked:!0}:r;console.log("connect home");var l=Object(d.b)();return c.a.createElement("div",{className:ee.a.container},c.a.createElement("div",{className:ee.a.title},"Fairdrive Connect"),c.a.createElement("div",{className:ee.a.flexer}),n?c.a.createElement("div",null,c.a.createElement("img",{src:n,className:ee.a.appicon})):"",a?c.a.createElement("div",{className:ee.a.subtitle},c.a.createElement("b",null,a)," wants to connect to  Fairdrive. It will get it's own folder to write in."):"",a&&n?c.a.createElement("div",null,o.locked?c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:t},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"Allow"))):c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:function(){return l({type:"SET_SYSTEM",data:{passwordShow:!0}})}},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"Unlock to allow")))):"",c.a.createElement("div",{className:ee.a.flexer}),a&&n?c.a.createElement("div",null,o.locked?"":c.a.createElement("div",{className:p.a.link},"Get me out of here")):"")};var ae=function(){var e=Object(l.f)(),t=e.id,a=Object(d.c)((function(e){return function(e){return e.account}(e)}));Object(n.useEffect)((function(){console.log("account:",a.privateKey),E(e.id,a.privateKey,"1234",a.mnemonic)}),[a.privateKey]);var r=Object(n.useState)("connectHomeId"),o=Object(m.a)(r,2),s=o[0],_=o[1],v=Object(n.useState)(),b=Object(m.a)(v,2),f=b[0],p=(b[1],Object(n.useState)()),y=Object(m.a)(p,2),g=y[0],E=(y[1],function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Date).toISOString();case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}());switch(Object(d.b)(),Object(l.e)(),s){case"connectHomeId":return c.a.createElement(te,{id:t,appname:f,appicon:g,account:a,nextStage:function(){return _()},exitStage:function(){return _()}});default:return c.a.createElement("h1",null,"Oops...")}},ne=a(48),ce=a.n(ne),re=a(737),oe=a(738),le=a(739);var se=function(e){e.nextStage,e.exitStage;var t=e.id,a=e.contents,n=void 0===a?[{title:"Documents",icon:"folder"},{title:"Pictures",icon:"folder"},{title:"Movies",icon:"folder"},{title:"DappConnect",icon:"folder"},{title:"Shared",icon:"folder"},{title:"Keith Jarret - Koln Concert Extra long title.mp3",icon:"mp3"},{title:"HelloWorld.txt",icon:"txt"},{title:"MyAvatar.png",icon:"sad"},{title:"BBC.Documentary.mp4",icon:"asdasd"}]:a;return console.log("someting"),c.a.createElement("div",{className:ce.a.container},c.a.createElement("div",{className:ce.a.topbar},c.a.createElement("div",{className:ce.a.username},"Michelle"),c.a.createElement("div",{className:ce.a.balance},"102.32 BZZ"),c.a.createElement("div",{className:ce.a.flexer}),c.a.createElement("div",{className:ce.a.title},"root"===t?"Your Fairdrive":t),c.a.createElement("div",{className:ce.a.status},"~3211MB")),c.a.createElement("div",{className:ce.a.innercontainer},n.map((function(e){return c.a.createElement("div",{className:ce.a.rowItem},c.a.createElement("div",null,function(e){switch(e){case"folder":return c.a.createElement(re.a,null);case"txt":return c.a.createElement(oe.a,null);case"mp3":return c.a.createElement(le.a,null);default:return c.a.createElement("img",{className:ce.a.fileIcon,src:v.a})}}(e.icon)),c.a.createElement("div",{className:ce.a.folderText},e.title))}))))};var ie=function(){var e=Object(l.f)().id,t=Object(d.c)((function(e){return function(e){return e.account}(e)}));Object(n.useEffect)((function(){console.log("account:",t)}),[t.privateKey]);var a=Object(n.useState)("folderViewId"),r=Object(m.a)(a,2),o=r[0],s=r[1];switch(Object(d.b)(),Object(l.e)(),o){case"folderViewId":return c.a.createElement(se,{id:e,nextStage:function(){return s()},exitStage:function(){return s()}});default:return c.a.createElement("h1",null,"Oops...")}};a(555);var ue=[{path:"/account-create",exact:!0,component:F},{path:"/account",exact:!0,component:J},{path:"/connect/:id",component:ae},{path:"/drive/:id",component:ie},{path:"/unlock",exact:!0,component:function(e){e.open;var t=Object(d.b)(),a=Object(l.e)(),r=Object(d.c)((function(e){return function(e){return e.account}(e)})),o=Object(d.c)((function(e){return function(e){return e.system}(e)})),s=Object(n.useState)(),i=Object(m.a)(s,2),u=i[0],_=i[1];return Object(n.useEffect)((function(){console.log(o),o.unlocked&&a.push("/drive/root")})),c.a.createElement("div",{className:p.a.dialogBox},c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.title},"Unlock your account"),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("img",{src:r.avatar,className:p.a.dialogAvatar}),c.a.createElement("div",{className:p.a.dialogPasswordBox},c.a.createElement("input",{className:p.a.dialogPassword,type:"password",placeholder:"Password",onChange:function(e){return function(e){_(e.target.value)}(e)}})),c.a.createElement("div",{tabIndex:"2",className:p.a.button,onClick:function(){return t({type:"UNLOCK_SYSTEM",data:{passWord:u}})}},c.a.createElement("div",null,c.a.createElement("div",{className:p.a.buttontext},"continue"))),c.a.createElement("div",{className:p.a.flexer}),c.a.createElement("div",{className:p.a.link,onClick:function(){return t({type:"SET_SYSTEM",data:{showPasswordUnlock:!1}})}},"Get me out of here"))}}];var me=function(){return Object(d.c)((function(e){return function(e){return e.system}(e)})),Object(d.c)((function(e){return function(e){return e.account}(e)})),Object(d.b)(),Object(l.e)(),c.a.createElement("div",{className:p.a.swarmcity}," "," "," ",ue.map((function(e){var t=e.path,a=e.exact,n=e.component;return c.a.createElement(l.a,Object.assign({key:t},{path:t,exact:a,component:n}))}))," "," "," ")},de=a(37),_e=a(148),ve=a(149),be=a(337),fe=a(147),pe=a(332),ye=a(36),ge={status:"noAccount",locked:!0};var Ee=Object(fe.persistentReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT":return Object(de.a)(Object(de.a)({},e),t.data);case"RESET_ACCOUNT":return Object(de.a)({},ge);default:return e}}),{name:"account"}),he=a(29),xe=a(41),Ne=Object(xe.a)((function(e){return e[Ae]}),(function(e){return e})),Se=a(196),we=a.n(Se),Oe=a(197),je=a.n(Oe),Ce=i.a.mark(Ie),ke=we.a.create({baseURL:"http://127.0.0.1:9090/v0/",timeout:5e3});function Ie(e){var t,a,n,c;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("create account saga started"),r.prev=1,t={user:e.data.username,password:e.data.password},console.log("request: ",t),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r.next=7,ke({method:"POST",url:"user/signup",config:a,data:je.a.stringify(t)});case 7:return n=r.sent,console.log(n),c={status:"accountSet",username:e.data.username,avatar:e.data.avatar,address:n.data.reference},r.next=12,Object(he.b)({type:"SET_ACCOUNT",data:c});case 12:return r.next=14,Object(he.b)({type:"SET_SYSTEM",data:{unlocked:!0}});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),console.log("error on timeout",r.t0);case 19:case"end":return r.stop()}}),Ce,null,[[1,16]])}var Te=i.a.mark(Be);function Be(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.d)("CREATE_ACCOUNT",Ie);case 2:case"end":return e.stop()}}),Te)}var Ae="account",We={mountPoint:Ae,reducer:Ee,saga:Be},De={showPasswordUnlock:!1,hasUser:!1,passWord:null,mnemonic:null,unlocked:!1};var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SYSTEM":return console.log("system",t),Object(de.a)(Object(de.a)({},e),t.data);default:return e}},Ue=i.a.mark(Fe);function Fe(e){var t,a,n,c;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("unlocksystem saga started"),r.prev=1,console.log("unlock system with password ",e.data),r.next=5,Object(he.c)(Ne);case 5:return t=r.sent,console.log(t),r.next=9,window.myWeb3.eth.accounts.decrypt(t.privateKey,e.data.passWord);case 9:return a=r.sent,console.log(a),r.next=13,b.default.decryptWithPrivateKey(a.privateKey,t.mnemonic);case 13:return n=r.sent,console.log(typeof n,n),r.next=17,Object(he.b)({type:"SET_SYSTEM",data:{mnemonic:n}});case 17:return r.next=19,Object(he.b)({type:"SET_SYSTEM",data:{privatekey:a.privateKey}});case 19:return r.next=21,Object(he.b)({type:"SET_SYSTEM",data:{unlocked:!0}});case 21:return r.next=23,window.fairdrive.getFairdrive(n.toString());case 23:if(!(c=r.sent).res){r.next=29;break}return r.next=27,Object(he.b)({type:"SET_DRIVE",data:c.res});case 27:r.next=30;break;case 29:console.log(c.err);case 30:r.next=35;break;case 32:r.prev=32,r.t0=r.catch(1),console.log("error on timeout",r.t0);case 35:case"end":return r.stop()}}),Ue,null,[[1,32]])}var Pe=i.a.mark(Ke);function Ke(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.d)("UNLOCK_SYSTEM",Fe);case 2:case"end":return e.stop()}}),Pe)}var Xe={mountPoint:"system",reducer:Re,saga:Ke},Ge={};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRIVE":return console.log("drive",t),Object(de.a)(Object(de.a)({},e),t.data);default:return e}};var Me=i.a.mark(He);function He(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),Me)}var Ze={account:We,system:Xe,drive:{mountPoint:"drive",reducer:Le,saga:He}},ze={},Ye={};Object.values(Ze).forEach((function(e){var t=e.mountPoint,a=e.reducer;Ye[t]=a}));var Ve=Object(ye.c)(Object(de.a)(Object(de.a)({},Ye),{},{globalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;return t.type,e}})),qe=i.a.mark(Qe);function Qe(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)(Object(_e.a)(Object.values(Ze).filter((function(e){return e.saga})).map((function(e){return e.saga()}))));case 2:case"end":return e.stop()}}),qe)}var Je=a(334),$e=a.n(Je),et=a(335);window.myWeb3=new $e.a("https://goerli.infura.io/v3/46958faea5154db687257f9598b0e269");var tt=new et.Fairdrive("http://localhost:8080");window.fairdrive=tt;var at=Object(be.a)(),nt=new pe.a({name:"fairdrive"}),ct=Object(fe.persistentStore)({db:nt}),rt=Object(ve.a)({reducer:Ve,middleware:[at].concat(Object(_e.a)(Object(ve.b)())),enhancers:[ct],preloadedState:{}}),ot=rt;window.dispatch=function(e,t){rt.dispatch(Object(de.a)({type:e},t))},at.run(Qe);var lt=a(59),st=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(c.a.createElement(d.a,{store:ot},c.a.createElement(lt.a,null,c.a.createElement(me,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");st?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):it(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):it(t,e)}))}}()},8:function(e,t,a){e.exports={container:"account-create_container__3NdcF",containergreen:"account-create_containergreen__24rsl account-create_container__3NdcF",containerred:"account-create_containerred__sljYP account-create_container__3NdcF",formcontainer:"account-create_formcontainer__1FtYc account-create_container__3NdcF",closeButton:"account-create_closeButton__3zjgh",title:"account-create_title__1QZdD styles_mainTitle1__2NSyK",titleblue:"account-create_titleblue__1CHBH styles_mainTitle1__2NSyK",formtitle:"account-create_formtitle__2gzcM styles_mainTitle1__2NSyK",formsubtitle:"account-create_formsubtitle__199uV styles_smallLight__19t_v",subtitle:"account-create_subtitle__3_35a styles_bodyDefault__3HIAZ",link:"account-create_link__1Ayx_ styles_baseGlowText__1theI",username:"account-create_username__1WQGK styles_bodyBold__1X9lW",showkeystoggle:"account-create_showkeystoggle__3cERA styles_smallBold__2dgD2",box:"account-create_box___GsGi styles_bodyBold__1X9lW",placeholder:"account-create_placeholder__3Uv3g",avatarImage:"account-create_avatarImage__DaV2F",button:"account-create_button__nj0EZ undefined styles_baseShadow__3Xdrr",buttontext:"account-create_buttontext__1LWBJ",buttongray:"account-create_buttongray__7H5lD undefined styles_baseShadow__3Xdrr",buttontextblue:"account-create_buttontextblue__12CFX",uploadicon:"account-create_uploadicon__3p-4z",arrowup:"account-create_arrowup__Q_BAP",avatareditor:"account-create_avatareditor__3bq5u",usernameinputbox:"account-create_usernameinputbox__3DSg4",usernameinput:"account-create_usernameinput__qwoNz styles_bodyBold__1X9lW",mnemonicinputbox:"account-create_mnemonicinputbox__3s9ic",mnemonicinput:"account-create_mnemonicinput__cPDmh styles_bodyBold__1X9lW",passwordflex:"account-create_passwordflex__2UZT5",flexer:"account-create_flexer__3OqLs",dialogiconbox:"account-create_dialogiconbox__1FIZw",confirm:"account-create_confirm__1MSCL",cancel:"account-create_cancel__1s5HZ",sliderbox:"account-create_sliderbox__1sBLF",statusbox:"account-create_statusbox__2oMVP",statusboxitemactive:"account-create_statusboxitemactive__vnq_N",blacktext:"account-create_blacktext__22UQe styles_smallBold__2dgD2",choosefile:"account-create_choosefile__2pDg4 styles_smallBold__2dgD2",nextbuttonbox:"account-create_nextbuttonbox__3ixzS",mnemonic:"account-create_mnemonic__1lK4p styles_bodyBold__1X9lW",mnemoniccheck:"account-create_mnemoniccheck__1gGIJ",fileinput:"account-create_fileinput__38N5L",textField:"account-create_textField__1mcno"}},85:function(e,t,a){e.exports={container:"connect_container__22mdx",title:"connect_title__1nIrZ styles_mainTitle1__2NSyK",subtitle:"connect_subtitle__3e_JC styles_bodyDefault__3HIAZ",closeButton:"connect_closeButton__1om2_",appicon:"connect_appicon__1RkAz",flexer:"connect_flexer__3kIIw"}}},[[339,1,2]]]);
//# sourceMappingURL=main.49746747.chunk.js.map