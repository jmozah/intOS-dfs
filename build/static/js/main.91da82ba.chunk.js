(this["webpackJsonpintOS-dfs"]=this["webpackJsonpintOS-dfs"]||[]).push([[0],{100:function(e,t,a){e.exports={container:"connect_container__22mdx",title:"connect_title__1nIrZ styles_mainTitle1__2NSyK",subtitle:"connect_subtitle__3e_JC styles_bodyDefault__3HIAZ",closeButton:"connect_closeButton__1om2_",appicon:"connect_appicon__1RkAz",flexer:"connect_flexer__3kIIw"}},140:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.e9316813.png"},18:function(e,t,a){e.exports={container:"account_container__2L7yZ",containergreen:"account_containergreen__1bYbz account_container__2L7yZ",containerred:"account_containerred__Pr9Wr account_container__2L7yZ",formcontainer:"account_formcontainer__McUFC account_container__2L7yZ",homemenu:"account_homemenu__YnUIf",menuitem:"account_menuitem__236zv styles_link__dxACx styles_baseGlowText__1theI",closeButton:"account_closeButton__tyeGR",title:"account_title__30A5t styles_mainTitle1__2NSyK",titleblue:"account_titleblue__GVFLB styles_mainTitle1__2NSyK",formtitle:"account_formtitle__1N0zm styles_mainTitle1__2NSyK",formsubtitle:"account_formsubtitle__1-9x_ styles_smallLight__19t_v",subtitle:"account_subtitle__2J-4Y styles_bodyBold__1X9lW",username:"account_username__1aprD styles_bodyBold__1X9lW",showkeystoggle:"account_showkeystoggle__btpHO styles_smallBold__2dgD2",box:"account_box__3sWxf styles_bodyBold__1X9lW",placeholder:"account_placeholder__1nwcI",avatarImage:"account_avatarImage__20H7B",button:"account_button__3QcM_ undefined styles_baseShadow__3Xdrr",buttontext:"account_buttontext__3q788",buttongray:"account_buttongray__gG2fG undefined styles_baseShadow__3Xdrr",buttontextblue:"account_buttontextblue__2EoKJ",removeButton:"account_removeButton__2gf1s account_button__3QcM_ undefined styles_baseShadow__3Xdrr",uploadicon:"account_uploadicon__B5GK-",arrowup:"account_arrowup__YN0j2",avatareditor:"account_avatareditor__xXpdz",usernameinputbox:"account_usernameinputbox__44tYc",usernameinput:"account_usernameinput__Fs7CI styles_bodyDefault__3HIAZ",passwordflex:"account_passwordflex__1EOfU",flexer:"account_flexer__3lOX9",dialogiconbox:"account_dialogiconbox__33Rx6",confirm:"account_confirm__2oVIW",cancel:"account_cancel__3941a",sliderbox:"account_sliderbox__2G563",blacktext:"account_blacktext__2LjGW styles_smallBold__2dgD2",choosefile:"account_choosefile__3F7iQ styles_smallBold__2dgD2",nextbuttonbox:"account_nextbuttonbox__3OnBq",mnemonic:"account_mnemonic__mBAFU styles_bodyBold__1X9lW",mnemoniccheck:"account_mnemoniccheck__2QlI_",fileinput:"account_fileinput__1kNha",textField:"account_textField__3jCQt",qrcode:"account_qrcode__37Mn-"}},29:function(e,t,a){e.exports={container:"drive_container__2Yd9r",topbar:"drive_topbar__2n5-s",topmenu:"drive_topmenu__2tCAa",addButton:"drive_addButton__19lr8",user:"drive_user__AZ1A8",uploadSpace:"drive_uploadSpace__39yxa styles_bodyBold__1X9lW",innercontainer:"drive_innercontainer__1QlGA",folderMenu:"drive_folderMenu__3pRIH",folderMenuTitle:"drive_folderMenuTitle__2Ezuy styles_bodyBold__1X9lW",progress:"drive_progress__1vaIW",folderLoading:"drive_folderLoading__Z8l8n",title:"drive_title__1Jze8 styles_mainTitle1__2NSyK",subtitle:"drive_subtitle__3NTHc styles_bodyDefault__3HIAZ",username:"drive_username__29r74 styles_bodyBold__1X9lW",balance:"drive_balance__c5uoh styles_bodyBold__1X9lW styles_baseGlowText__1theI",status:"drive_status__2tFyY styles_bodyDefault__3HIAZ",rowItem:"drive_rowItem__2s4Nd styles_bodyBold__1X9lW",folderText:"drive_folderText__2Py_v",fileIcon:"drive_fileIcon__1Hpkz",closeButton:"drive_closeButton__29OhI",appicon:"drive_appicon__29o3R",flexer:"drive_flexer__B40Wp"}},371:function(e,t,a){e.exports=a(750)},376:function(e,t,a){},410:function(e,t,a){e.exports=a.p+"static/media/todolist.16a96d20.png"},431:function(e,t){},433:function(e,t){},442:function(e,t){},444:function(e,t){},450:function(e,t){},452:function(e,t){},507:function(e,t){},509:function(e,t){},515:function(e,t){},6:function(e,t,a){e.exports={baseShadow:"styles_baseShadow__3Xdrr",baseGlow:"styles_baseGlow__fiX4_",baseGlowText:"styles_baseGlowText__1theI",mainTitle1:"styles_mainTitle1__2NSyK",mainTitle2:"styles_mainTitle2__Si20_",mainTitle3:"styles_mainTitle3__LGCpn",mainTitle4:"styles_mainTitle4__1V0jS",bodyDefault:"styles_bodyDefault__3HIAZ",bodyBold:"styles_bodyBold__1X9lW",bodyDetail:"styles_bodyDetail__3X0gq",smallLight:"styles_smallLight__19t_v",smallBold:"styles_smallBold__2dgD2",smallestLight:"styles_smallestLight__2N7qc",smallestBold:"styles_smallestBold__2t4FG","fair-drive":"styles_fair-drive__17zvp",link:"styles_link__dxACx styles_baseGlowText__1theI",container:"styles_container__d38tt",topbar:"styles_topbar__1EdBD",brand:"styles_brand__3zFIq styles_mainTitle2__Si20_",loginregistertitle:"styles_loginregistertitle__2U9ie styles_bodyBold__1X9lW",title:"styles_title__1o_p0 styles_mainTitle1__2NSyK",breadcrumb:"styles_breadcrumb__bpbO0 styles_mainTitle2__Si20_",h1:"styles_h1__1yNOI styles_mainTitle4__1V0jS",address:"styles_address__9xoaG styles_bodyDefault__3HIAZ",space:"styles_space__1gPRX",breadcrumbpath:"styles_breadcrumbpath__UqK5n styles_bodyBold__1X9lW",exiticonblue:"styles_exiticonblue__2iuy7",exitgrayicon:"styles_exitgrayicon__wSN_K",closeicon:"styles_closeicon__1ph6l",innercontainer:"styles_innercontainer__atUd9",logincontainer:"styles_logincontainer__1R-KF",register:"styles_register__-9W1q",createnew:"styles_createnew__26ZmC styles_smallLight__19t_v",button:"styles_button__jo6qc styles_bodyBold__1X9lW styles_baseGlow__fiX4_",buttontext:"styles_buttontext__Rx19U styles_baseGlowText__1theI",rowfile:"styles_rowfile__3vKca",dirName:"styles_dirName__1mRTc styles_bodyBold__1X9lW",icons8folder:"styles_icons8folder__TMZPE",directoryrow:"styles_directoryrow__1zOps",flaticon:"styles_flaticon__1-ES6",solid:"styles_solid__2wDj6",A1:"styles_A1__28MMj","grid-1":"styles_grid-1__14Q4R",grid:"styles_grid__2je-P",location:"styles_location__3GLdJ",myaccount:"styles_myaccount__2kWuX",handlebalance:"styles_handlebalance__26a3V",avatar:"styles_avatar__1frs7",handle:"styles_handle__3mz5R styles_smallBold__2dgD2",balance:"styles_balance__xoCET styles_smallBold__2dgD2",bigbalance:"styles_bigbalance__IVi1A styles_mainTitle2__Si20_",flexer:"styles_flexer__2JeKy",dialogBox:"styles_dialogBox__2HgZV",dialogTitle:"styles_dialogTitle__2nEyP styles_bodyBold__1X9lW",dialogClose:"styles_dialogClose__3aDEc",dialogAvatar:"styles_dialogAvatar__3yy9Q",dialogPasswordBox:"styles_dialogPasswordBox__1jufA",dialogPassword:"styles_dialogPassword__6v-QG styles_bodyDefault__3HIAZ",dialogPasswordiconbox:"styles_dialogPasswordiconbox__9X6b0"}},750:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),o=a.n(c),l=(a(376),a(5)),s=a.n(l),i=a(27),u=a(37),d=a(17),m=a(34),_=a(140),p=a.n(_),v=a(351),f=a(94),b=a.n(f),h=a(44),y=a.n(h),g=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:12e4});function E(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={user:t,password:a},r={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,g({method:"POST",url:"user/login",config:r,data:y.a.stringify(n),withCredentials:!0});case 5:return c=e.sent,e.next=8,g({method:"POST",url:"pod/open",data:y.a.stringify({password:"1234",pod:"Fairdrive"}),config:r,withCredentials:!0});case 8:return e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function w(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={user:t},n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,g({method:"POST",url:"user/isloggedin",config:n,data:y.a.stringify(a),withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={user:t},n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,g({method:"POST",url:"user/present",config:n,data:y.a.stringify(a),withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(s.a.mark((function e(t,a,n){var r,c,o,l,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={headers:{"Content-Type":"multipart/form-data"}},c=new FormData,o=Object(v.a)(t);try{for(o.s();!(l=o.n()).done;)i=l.value,c.append("files",i)}catch(s){o.e(s)}finally{o.f()}return c.append("pod_dir","/"+a),c.append("block_size","64Mb"),e.next=8,g({method:"POST",url:"file/upload",data:c,config:r,withCredentials:!0,onUploadProgress:function(e){n(e.loaded,e.total)}});case 8:return u=e.sent,console.log(u),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,g({method:"POST",url:"pod/open",data:y.a.stringify({password:"1234",pod:"Fairdrive"}),config:a,withCredentials:!0});case 4:return e.sent,n="/",n="root"==t?y.a.stringify({dir:"/"}):y.a.stringify({dir:"/"+t}),e.next=9,g({method:"POST",url:"dir/ls",data:n,config:a,withCredentials:!0});case 9:return r=e.sent,e.abrupt("return",r.data);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function I(e,t,a){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(s.a.mark((function e(t,a,n){var r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={user:t,password:a,mnemonic:n},c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,g({method:"POST",url:"user/signup",config:c,data:y.a.stringify(r),withCredentials:!0});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:e.prev=9,e.t0=e.catch(0),console.log("error on timeout",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function A(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:n})}function F(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(s.a.mark((function e(t){var a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=A(t,"avatar.jpg"),(n=new FormData).append("avatar",a),r={headers:{"Content-Type":"multipart/form-data"}},e.next=7,g({method:"POST",url:"user/avatar",config:r,data:n,withCredentials:!0});case 7:return c=e.sent,e.abrupt("return",c.data);case 11:e.prev=11,e.t0=e.catch(0),console.log("error on timeout",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function W(e,t){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={password:t,pod:a},e.next=5,g({method:"POST",url:"pod/new",config:n,data:y.a.stringify(r),withCredentials:!0});case 5:e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(e,t){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=4,g({method:"POST",url:"dir/mkdir",config:n,data:y.a.stringify({dir:a}),withCredentials:!0});case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var L=a(6),X=a.n(L),z=a(9),M=a.n(z);var G=function(e){var t=e.createStage,a=e.restoreStage;return e.exitStage,r.a.createElement("div",{className:M.a.container},r.a.createElement("div",{className:M.a.title},"Welcome to Fairdrive"),r.a.createElement("div",{className:M.a.subtitle},"In the next steps you will be creating a Fairdrive Wallet."),r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"create account"))),r.a.createElement("div",{tabIndex:"2",className:X.a.button},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext,onClick:a},"restore account"))))},K=a(114),Z=a.n(K);function H(){return Y.apply(this,arguments)}function Y(){return(Y=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z.a.utils.randomBytes(16),a=Z.a.wordlists.en,e.next=4,Z.a.utils.entropyToMnemonic(t,a);case 4:return n=e.sent,r=n,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e){var t=e.nextStage,a=e.exitStage,c=e.setMnemonic,o=e.mnemonic;function l(){return(l=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,console.log(t),a=t.split(" "),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.setWallet,e.setCollection,e.fairdrive,Object(n.useEffect)((function(){(function(){return l.apply(this,arguments)})().then((function(e){c(e)}))}),[c]),r.a.createElement("div",{className:M.a.container},r.a.createElement("div",{className:M.a.closeButton,onClick:a},r.a.createElement("div",{className:X.a.closeicon})),r.a.createElement("div",{className:M.a.title},"Write down this seed phrase"),r.a.createElement("div",{className:M.a.subtitle},"With it, you will always be able to restore your account."),r.a.createElement("div",{className:M.a.mnemonic},o.map((function(e,t){return r.a.createElement("div",{key:t},t+1+". "+e)}))),o.length>=1?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"continue"))):"")},Q=a(771);var q=function(e){var t=e.nextStage,a=e.prevStage,c=e.exitStage,o=e.mnemonic;console.log(o[2],o[4],o[7],o[10]);var l=Object(n.useState)(!1),s=Object(d.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),_=Object(d.a)(m,2),p=_[0],v=_[1],f=Object(n.useState)(!1),b=Object(d.a)(f,2),h=b[0],y=b[1],g=Object(n.useState)(!1),E=Object(d.a)(g,2),x=E[0],w=E[1];return r.a.createElement("div",{className:M.a.container},r.a.createElement("div",{className:M.a.closeButton,onClick:c},r.a.createElement("div",{className:X.a.closeicon})),r.a.createElement("div",{className:M.a.title},"Check your backup"),r.a.createElement("div",{className:M.a.subtitle},"Didn't write it down? You can start over with a"," ",r.a.createElement("span",{className:M.a.link,onClick:a}," ","new seed phrase"),"."),r.a.createElement("div",{className:M.a.mnemoniccheck},r.a.createElement("div",{className:M.a.mnemonicinputbox},r.a.createElement("input",{className:M.a.mnemonicinput,placeholder:"word 3",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?u(!0):u(!1)}(2,e)}}),i?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:M.a.mnemonicinputbox},r.a.createElement("input",{className:M.a.mnemonicinput,placeholder:"word 5",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?v(!0):v(!1)}(4,e)}}),p?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:M.a.mnemonicinputbox},r.a.createElement("input",{className:M.a.mnemonicinput,placeholder:"word 8",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?y(!0):y(!1)}(7,e)}}),h?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#222222"}})),r.a.createElement("div",{className:M.a.mnemonicinputbox},r.a.createElement("input",{className:M.a.mnemonicinput,placeholder:"word 11",autoCorrect:"off",autoCapitalize:"none","data-lpignore":"true",onChange:function(e){return function(e,t){t.target.value===o[e]?w(!0):w(!1)}(10,e)}}),x?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#222222"}}))),i&&p&&h&&x?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"continue"))):"")},J=function(e){var t=e.nextStage,a=e.exitStage,n=e.avatarStage,c=e.username,o=e.setUsername,l=e.avatar,s=e.usernameExists;return r.a.createElement("div",{className:M.a.formcontainer},r.a.createElement("div",{className:M.a.closeButton,onClick:a},r.a.createElement("div",{className:X.a.closeicon})),r.a.createElement("div",{className:M.a.title},"Choose an avatar and a username"),r.a.createElement("div",{className:M.a.placeholder},r.a.createElement("img",{src:l,className:M.a.avatarImage,alt:"avatar"})),r.a.createElement("div",{className:M.a.uploadbtn}),r.a.createElement("div",{className:M.a.uploadicon,onClick:n},r.a.createElement("div",{className:M.a.arrowup})),r.a.createElement("div",{className:M.a.usernameinputbox},r.a.createElement("input",{type:"text",autoFocus:"autoFocus",className:M.a.usernameinput,placeholder:"Fairdrive User #1263",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:M.a.usernameExists},s),c.length>=1&&!s?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"continue"))):"")};var $=function(e){var t=e.createAccount,a=e.exitStage,c=(e.nextStage,e.setPassword),o=(e.password,Object(n.useState)(!1)),l=Object(d.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(),m=Object(d.a)(u,2),_=m[0],p=m[1],v=Object(n.useState)(),f=Object(d.a)(v,2),b=f[0],h=f[1],y=function(e,t){""!==e|""!==t&&(e===t?(i(!0),c(e)):i(!1))};return r.a.createElement("div",{className:M.a.formcontainer},r.a.createElement("div",{className:M.a.closeButton,onClick:a},r.a.createElement("div",{className:X.a.closeicon})),r.a.createElement("div",{className:M.a.title},"Choose a password"),r.a.createElement("div",{className:M.a.passwordflex}),r.a.createElement("div",{className:M.a.flexer}),r.a.createElement("div",{className:M.a.usernameinputbox},r.a.createElement("input",{type:"password",autoFocus:!0,name:"1",className:M.a.mnemonicinput,placeholder:"Password",value:_,onChange:function(e){return function(e){p(e.target.value),y(e.target.value,b)}(e)}})),r.a.createElement("div",{className:M.a.usernameinputbox},r.a.createElement("input",{type:"password",name:"2",className:M.a.mnemonicinput,placeholder:"Control",value:b,onChange:function(e){return function(e){h(e.target.value),y(e.target.value,_)}(e)}})),s?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"set password"))):"")},ee=a(13),te=a(15),ae=a(25),ne=a(24),re=a(355),ce=a.n(re),oe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={image:e.props.avatar,allowZoomOut:!1,position:{x:.5,y:.5},scale:1,rotate:0,borderRadius:200,preview:null,width:128,height:128},e.handleSave=function(t){var a=e.editor.getImageScaledToCanvas().toDataURL(),n=e.editor.getCroppingRect();e.setState({preview:{img:a,rect:n,scale:e.state.scale,width:e.state.width,height:e.state.height,borderRadius:e.state.borderRadius}})},e.handleScale=function(t){var a=parseFloat(t.target.value);e.setState({scale:a})},e.handleNewImage=function(t){e.setState({image:t.target.files[0]})},e.rotateRight=function(t){t.preventDefault(),e.setState({rotate:e.state.rotate+90})},e.handlePositionChange=function(t){e.setState({position:t})},e.onClickSave=function(){if(e.editor){var t=e.editor.getImageScaledToCanvas(),a=t.toDataURL("image/jpeg",.82);console.log(a),e.props.setAvatar(t.toDataURL("image/jpeg",.82)),window.open(a,"_blank"),e.props.exitStage()}},e.setEditorRef=function(t){return e.editor=t},e}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:M.a.formcontainer},r.a.createElement("div",{className:M.a.avatareditor},r.a.createElement("div",{className:X.a.rotateicon,onClick:this.rotateRight}),r.a.createElement(ce.a,{ref:this.setEditorRef,scale:parseFloat(this.state.scale),width:this.state.width,height:this.state.height,position:this.state.position,onPositionChange:this.handlePositionChange,rotate:parseFloat(this.state.rotate),borderRadius:this.state.borderRadius,image:this.state.image})),r.a.createElement("div",{className:M.a.sliderbox},r.a.createElement("input",{name:"scale",type:"range",onChange:this.handleScale,min:"1",max:"3",step:"0.01",defaultValue:"1.2"})),r.a.createElement("div",{className:M.a.subtitle},"scroll to zoom - drag to move"),r.a.createElement("label",{for:"newFile",className:M.a.link,onClick:""},"choose another file"),r.a.createElement("input",{hidden:"hidden",name:"newImage",id:"newFile",accept:".jpg, .jpeg, .png, .gif",type:"file",onChange:this.handleNewImage,className:M.a.fileinput}),r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:this.onClickSave.bind(this)},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"set avatar"))),r.a.createElement("div",{className:M.a.flexer}),r.a.createElement("div",{className:M.a.link},"Cancel"))}}]),a}(r.a.Component);var le=function(e){e.accountCreateDone;var t=e.item0,a=e.item1,n=e.item2,c=e.item3,o=e.nextStage;return r.a.createElement("div",{className:M.a.formcontainer},r.a.createElement("div",{className:M.a.title},"Your Fairdrive is being created"),r.a.createElement("div",{className:M.a.statusbox},t?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#333333"}}),t?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating User Account"):r.a.createElement("div",null,"Creating User Account"),a?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#333333"}}),a?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating Fairdrive"):r.a.createElement("div",null,"Creating Fairdrive"),n?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#333333"}}),n?r.a.createElement("div",{style:{color:"#92e7fa"}},"Creating Folders"):r.a.createElement("div",null,"Creating Folders"),c?r.a.createElement(Q.a,{style:{color:"#92e7fa"}}):r.a.createElement(Q.a,{style:{color:"#333333"}}),c?r.a.createElement("div",{style:{color:"#92e7fa"}},"Storing Fairdrive Account"):r.a.createElement("div",null,"Storing Fairdrive Account")),t&&a&&n&&c?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:o},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"To your account"))):"")};var se=function(){var e=Object(m.b)(),t=Object(n.useState)("accountCreateIntroId"),a=Object(d.a)(t,2),c=a[0],o=a[1],l=Object(u.e)(),_=Object(n.useState)([]),v=Object(d.a)(_,2),f=v[0],b=v[1],h=Object(n.useState)(),y=Object(d.a)(h,2),g=(y[0],y[1],Object(n.useState)()),E=Object(d.a)(g,2),x=(E[0],E[1]),w=Object(n.useState)(p.a),S=Object(d.a)(w,2),O=S[0],j=S[1],C=Object(n.useState)(""),k=Object(d.a)(C,2),T=k[0],B=k[1],A=Object(n.useState)(null),P=Object(d.a)(A,2),D=P[0],R=P[1],L=Object(n.useState)(),X=Object(d.a)(L,2),z=X[0],M=X[1],K=Object(n.useState)(!1),Z=Object(d.a)(K,2),H=Z[0],Y=(Z[1],Object(n.useState)(!1)),Q=Object(d.a)(Y,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(!1),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],se=Object(n.useState)(!1),ie=Object(d.a)(se,2),ue=ie[0],de=ie[1],me=Object(n.useState)(!1),_e=Object(d.a)(me,2),pe=_e[0],ve=_e[1];function fe(){return(fe=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(t),e.next=3,N(t).then((function(e){console.log(e),e.data.present?R("Username taken."):R(null)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(){var t=Object(i.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o("creatingAccountId"),a=f.join(" "),t.next=4,I(T,z,a).catch((function(e){throw new Error("User creation error")}));case 4:return n=t.sent,t.next=7,F(O);case 7:return t.sent,te(!0),t.next=11,W(z,"Fairdrive");case 11:return ce(!0),t.next=14,U(z,"Documents");case 14:return t.next=16,U(z,"Movies");case 16:return t.next=18,U(z,"Music");case 18:return t.next=20,U(z,"Pictures");case 20:de(!0),r={status:"accountSet",username:T,avatar:O,address:n.reference,balance:0},e({type:"SET_ACCOUNT",data:r}),e({type:"SET_SYSTEM",data:{hasAcount:!0}}),ve(!0),l.push("/drive/root");case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();switch(c){case"accountCreateIntroId":return r.a.createElement(G,{createStage:function(){return o("mnemonicShowId")},restoreStage:function(){return o()},exitStage:function(){return l.goBack()}});case"mnemonicShowId":return r.a.createElement(V,{fairdrive:window.fairdrive,nextStage:function(){return o("mnemonicCheckId")},exitStage:function(){return o("accountCreateIntroId")},setMnemonic:b,mnemonic:f,setCollection:x});case"mnemonicCheckId":return r.a.createElement(q,{nextStage:function(){return o("chooseUsernameId")},prevStage:function(){return o("mnemonicShowId")},exitStage:function(){return o("accountCreateIntroId")},mnemonic:f});case"chooseUsernameId":return r.a.createElement(J,{usernameExists:D,avatar:O,setUsername:function(e){return fe.apply(this,arguments)},username:T,nextStage:function(){return o("choosePasswordId")},exitStage:function(){return o("accountCreateIntroId")},avatarStage:function(){return o("chooseAvatarId")}});case"chooseAvatarId":return r.a.createElement(oe,{avatar:p.a,exitStage:function(){return o("chooseUsernameId")},setAvatar:j});case"choosePasswordId":return r.a.createElement($,{createAccount:be,exitStage:function(){return o("accountCreateIntroId")},setPassword:M,password:z});case"creatingAccountId":return r.a.createElement(le,{accountCreateDone:H,item0:ee,item1:re,item2:ue,item3:pe});default:return r.a.createElement("h1",null,"Oops...")}},ie=a(18),ue=a.n(ie),de=a(774),me=a(775),_e=a(776),pe=a(777),ve=function(e){var t=e.nextStage,a=e.exitStage,n=(e.avatar,e.username,e.myIdentityStage),c=e.shortCodeStage,o=e.resolveStage;return r.a.createElement("div",{className:ue.a.formcontainer},r.a.createElement("div",{className:ue.a.closeButton,onClick:a},r.a.createElement("div",{className:X.a.closeicon})),r.a.createElement("div",{className:ue.a.homemenu},r.a.createElement("div",{className:ue.a.title},"Account"),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{className:ue.a.menuitem,onClick:n},r.a.createElement(de.a,null),r.a.createElement("div",null,"Account settings")),r.a.createElement("div",{className:ue.a.menuitem},r.a.createElement(me.a,null),r.a.createElement("div",null,"Wallet")),r.a.createElement("div",{className:ue.a.menuitem,onClick:c},r.a.createElement(_e.a,null),r.a.createElement("div",null,"Get verified")),r.a.createElement("div",{className:ue.a.menuitem,onClick:o},r.a.createElement(pe.a,null),r.a.createElement("div",null,"Verify a friend"))),r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"remove account"))))},fe=a(160),be=a.n(fe),he=function(e){var t=e.nextStage,a=e.exitStage,n=(e.shortCode,e.resolveShort,e.avatarStage,e.avatar),c=e.username,o=(e.setUsername,e.publicKey,e.address),l=void 0===o?"":o;e.QR;return r.a.createElement("div",{className:ue.a.formcontainer},r.a.createElement("div",{className:ue.a.closeButton,onClick:a},r.a.createElement("div",{className:X.a.exitgrayicon})),r.a.createElement("div",{className:ue.a.placeholder},r.a.createElement("img",{className:ue.a.avatarImage,src:n,alt:"avatar"})),r.a.createElement("div",{className:ue.a.subtitle},c),r.a.createElement("div",null,r.a.createElement(be.a,{size:"128",value:l})),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"edit account"))))},ye=function(e){var t=e.nextStage,a=e.removeAccount;return r.a.createElement("div",{className:ue.a.containerred},r.a.createElement("div",{className:ue.a.title},"Do you want to remove your account?"),r.a.createElement("div",{className:ue.a.subtitle},"This will permanently remove your account. You can only restore with the mnemonic (wordlist)."),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{className:ue.a.dialogiconbox},r.a.createElement("div",{className:[X.a.iconbuttonbig,ue.a.cancel].join(" "),onClick:t},r.a.createElement("div",{className:X.a.xmarkicon})),r.a.createElement("div",{className:[X.a.iconbuttonbig,ue.a.confirm].join(" "),onClick:a},r.a.createElement("div",{className:X.a.vmarkicon}))))},ge=function(e){e.nextStage;var t=e.exitStage,a=e.shortcode,n=void 0===a?{code:""}:a,c=e.newShort;return r.a.createElement("div",{className:ue.a.formcontainer},r.a.createElement("div",{className:ue.a.closeButton,onClick:t},r.a.createElement("div",{className:X.a.exitgrayicon})),r.a.createElement("div",{className:ue.a.titleblue},n.code),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{onClick:c,className:ue.a.button},"New shortcode plz"))};var Ee=function(e){e.nextStage;var t=e.exitStage,a=e.peerAvatar,c=e.peerUsername,o=e.peerAddress,l=e.resolveShortcode,s=Object(n.useState)(),i=Object(d.a)(s,2),u=i[0],m=i[1];return r.a.createElement("div",{className:ue.a.formcontainer},r.a.createElement("div",{className:ue.a.closeButton,onClick:t},r.a.createElement("div",{className:X.a.exitgrayicon})),r.a.createElement("div",{className:ue.a.titleblue},r.a.createElement("input",{className:ue.a.usernameinput,placeholder:"Shortcode",onChange:function(e){return function(e){m(e.target.value)}(e)},value:u})),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{onClick:function(){console.log("Short code to resolve: ",u),l(u)},className:ue.a.button},"Resolve shortcode"),r.a.createElement("div",{className:ue.a.flexer}),r.a.createElement("div",{className:ue.a.placeholder},r.a.createElement("img",{className:ue.a.avatarImage,src:a,alt:"avatar"})),r.a.createElement("div",null,c),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:o})))};var xe=function(){var e=Object(n.useState)("myIdentity"),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(m.c)((function(e){return function(e){return e.account}(e)})),l=Object(m.b)(),s=function(e){return l({type:"SET_ACCOUNT",data:{avatar:e}})},i=Object(u.e)();switch(a){case"accountHome":return r.a.createElement(ve,{myIdentityStage:function(){return c("myIdentity")},shortCodeStage:function(){return c("shortcodeStage")},resolveStage:function(){return c("resolveShort")}});case"myIdentity":return r.a.createElement(he,{avatar:o.avatar,avatarStage:function(){return c("avatarStage")},username:o.username,setUsername:function(e){return l({type:"SET_ACCOUNT",data:{username:e}})},setAvatar:s,publicKey:o.publicKey,address:o.address,nextStage:function(){return c("removeAccount")},exitStage:function(){return c("accountHome")},shortCode:function(){l({type:"CREATE_SHORTCODE",data:{username:o.username,useravatar:o.avatar}}),c("shortcodeStage")},resolveShort:function(){return c("resolveShort")}});case"removeAccount":return r.a.createElement(ye,{nextStage:function(){return c("myIdentity")},removeAccount:function(){l({type:"RESET_ACCOUNT"}),i.push("/")}});case"avatarStage":return r.a.createElement(oe,{setAvatar:s,avatar:o.avatar,exitStage:function(){return c("myIdentity")}});case"shortcodeStage":return r.a.createElement(ge,{shortcode:o.shortcode,nextStage:function(){return c()},exitStage:function(){return c()},newShort:function(){l({type:"CREATE_SHORTCODE",data:""})}});case"resolveShort":return r.a.createElement(Ee,{nextStage:function(){return c()},exitStage:function(){return c()},resolveShortcode:function(e){console.log(e),l({type:"RESOLVE_SHORTCODE",data:e})},peerAvatar:o.peerAvatar,peerUsername:o.peerUsername,peerAddress:o.peerAddress});default:return r.a.createElement("h1",null,"Oops...")}},we=(a(410),a(100)),Se=a.n(we);var Ne=function(e){var t=e.nextStage,a=(e.exitStage,e.appname),n=e.appicon,c=e.account,o=void 0===c?{locked:!0}:c;console.log("connect home");var l=Object(m.b)();return r.a.createElement("div",{className:Se.a.container},r.a.createElement("div",{className:Se.a.title},"Fairdrive Connect"),r.a.createElement("div",{className:Se.a.flexer}),n?r.a.createElement("div",null,r.a.createElement("img",{src:n,className:Se.a.appicon})):"",a?r.a.createElement("div",{className:Se.a.subtitle},r.a.createElement("b",null,a)," wants to connect to  Fairdrive. It will get it's own folder to write in."):"",a&&n?r.a.createElement("div",null,o.locked?r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:t},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"Allow"))):r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:function(){return l({type:"SET_SYSTEM",data:{passwordShow:!0}})}},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"Unlock to allow")))):"",r.a.createElement("div",{className:Se.a.flexer}),a&&n?r.a.createElement("div",null,o.locked?"":r.a.createElement("div",{className:X.a.link},"Get me out of here")):"")};var Oe=function(){var e=Object(u.f)(),t=e.id,a=Object(m.c)((function(e){return function(e){return e.account}(e)}));Object(n.useEffect)((function(){console.log("account:",a.privateKey),g(e.id,a.privateKey,"1234",a.mnemonic)}),[a.privateKey]);var c=Object(n.useState)("connectHomeId"),o=Object(d.a)(c,2),l=o[0],_=o[1],p=Object(n.useState)(),v=Object(d.a)(p,2),f=v[0],b=(v[1],Object(n.useState)()),h=Object(d.a)(b,2),y=h[0],g=(h[1],function(){var e=Object(i.a)(s.a.mark((function e(t,a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Date).toISOString();case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}());switch(Object(m.b)(),Object(u.e)(),l){case"connectHomeId":return r.a.createElement(Ne,{id:t,appname:f,appicon:y,account:a,nextStage:function(){return _()},exitStage:function(){return _()}});default:return r.a.createElement("h1",null,"Oops...")}},je=a(29),Ce=a.n(je),ke=a(791),Te=a(781),Ie=a(782),Be=a(783),Ae=a(792),Fe=a(784),Pe=a(785),We=a(786),De=a(787),Ue=a(79),Re=a(78),Le=a.n(Re),Xe=a(778),ze=a(779),Me=a(788),Ge=a(780),Ke=a(789);var Ze=function(e){e.nextStage,e.exitStage;var t=e.path,a=e.contents,c=e.account,o=e.refresh,l=e.setFolderShown,_=Object(n.useState)(!1),v=Object(d.a)(_,2),f=v[0],b=v[1],h=Object(n.useState)("ready"),y=Object(d.a)(h,2),g=y[0],E=y[1],x=Object(n.useState)(0),w=Object(d.a)(x,2),S=w[0],N=w[1],O=Object(n.useState)(""),C=Object(d.a)(O,2),k=C[0],T=C[1],I=Object(n.useState)(!1),B=Object(d.a)(I,2),A=B[0],F=B[1],P=Object(n.useState)(!1),W=Object(d.a)(P,2),D=W[0],U=W[1],R=Object(n.useRef)(null),L=(Object(m.b)(),Object(u.e)());function X(){F(!1)}function z(){U(!1)}function M(e){R.current.click()}function G(e){!function(e){K.apply(this,arguments)}(e.target.files)}function K(){return(K=Object(i.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("uploading"),e.next=3,j(a,t,(function(e,t){N(Math.round(e/t*100)),e==t&&E("swarmupload")})).then((function(){Z(),E("ready"),o(t)})).catch((function(){E("error")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){b(!f)}function H(e){T(e),F(!0)}function Y(e){console.log(e),L.push("/drive/"+e)}return Object(n.useEffect)((function(){l(!0)}),[]),r.a.createElement("div",{className:Ce.a.container},r.a.createElement("div",{className:Ce.a.topbar},r.a.createElement("div",{className:Ce.a.topmenu},r.a.createElement("div",{className:Ce.a.user},r.a.createElement("div",{className:Ce.a.username},c.username),r.a.createElement("div",{className:Ce.a.balance},c.balance,"\xa0 BZZ")),r.a.createElement("div",{className:Ce.a.addButton,onClick:function(){U(!0)}},r.a.createElement(Me.a,{fontSize:"large"}))),r.a.createElement("div",{className:Ce.a.flexer}),f?r.a.createElement("div",null,function(e){switch(e){case"ready":return r.a.createElement("div",{className:Ce.a.uploadSpace,onClick:M},r.a.createElement(ze.a,{fontSize:"large"}),r.a.createElement("div",null,"Upload some files"),r.a.createElement("input",{multiple:"multiple",type:"file",ref:R,onChange:G,style:{display:"none"}}));case"uploading":return r.a.createElement("div",{className:Ce.a.uploadSpace,onClick:M},r.a.createElement("div",null,"Uploading..."),r.a.createElement(Ge.a,{className:Ce.a.progress,variant:"determinate",value:S}));case"swarmupload":return r.a.createElement("div",{className:Ce.a.uploadSpace,onClick:M},r.a.createElement("div",null,"Storing on Swarm..."),r.a.createElement(Ge.a,{className:Ce.a.progress}));case"error":return r.a.createElement("div",{className:Ce.a.uploadSpace,onClick:M},r.a.createElement("div",null,"Error"))}}(g)):r.a.createElement("div",null,r.a.createElement("div",{className:Ce.a.title},"root"===t?"My Fairdrive":t),r.a.createElement("div",{className:Ce.a.status},"321MB of 1TB used"))),r.a.createElement("div",{className:Ce.a.innercontainer},a?function(e){switch(e.entries.length){case 0:return r.a.createElement("div",{className:Ce.a.folderLoading},"Nothing here yet.");default:return e.entries.map((function(e){return r.a.createElement("div",{key:e.name,className:Ce.a.rowItem},r.a.createElement("div",{onClick:function(){return Y(e.name)}},function(e){switch(e){case"inode/directory":return r.a.createElement(Le.a,{path:Ue.a});case"application/zip":return r.a.createElement(Le.a,{path:Ue.h});case"mp3":return r.a.createElement(Xe.a,null);default:return r.a.createElement("img",{className:Ce.a.fileIcon,src:p.a})}}(e.content_type)),r.a.createElement("div",{onClick:function(){return Y(e.name)},className:Ce.a.folderText},e.name),r.a.createElement("div",null,r.a.createElement(Le.a,{path:Ue.d,onClick:function(){return H(e.name)},className:Ce.a.custom,rotate:90,size:"36px"})))}))}}(a):r.a.createElement("div",{className:Ce.a.folderLoading},r.a.createElement(Ke.a,null))),r.a.createElement(ke.a,{open:A,onClose:X,fullWidth:"fullWidth"},r.a.createElement(Te.a,null,r.a.createElement("span",{className:Ce.a.folderMenuTitle},k)),r.a.createElement(Ie.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,{button:"button",divider:"divider",role:"listitem"},r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{path:Ue.e,size:"24px"})),r.a.createElement(Pe.a,{primary:"Share"})),r.a.createElement(Ae.a,{button:"button",divider:"divider",role:"listitem"},r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{path:Ue.b,size:"24px"})),r.a.createElement(Pe.a,{primary:"Rename"})),r.a.createElement(Ae.a,{button:"button",divider:"divider",role:"listitem"},r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{path:Ue.f,size:"24px"})),r.a.createElement(Pe.a,{primary:"Delete"})))),r.a.createElement(We.a,null,r.a.createElement(De.a,{onClick:X},"Close"))),r.a.createElement(ke.a,{open:D,onClose:z,fullWidth:"fullWidth"},r.a.createElement(Te.a,null,r.a.createElement("span",{className:Ce.a.folderMenuTitle},"New")),r.a.createElement(Ie.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ae.a,{button:"button",divider:"divider",role:"listitem"},r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{path:Ue.c,size:"24px"})),r.a.createElement(Pe.a,{primary:"New Folder"})),r.a.createElement(Ae.a,{button:"button",divider:"divider",role:"listitem"},r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{path:Ue.g,size:"24px"})),r.a.createElement(Pe.a,{primary:"Upload Items"})))),r.a.createElement(We.a,null,r.a.createElement(De.a,{onClick:z},"Close"))))};var He=function(){var e=Object(u.f)().path,t=Object(m.c)((function(e){return function(e){return e.account}(e)})),a=Object(n.useState)(null),c=Object(d.a)(a,2),o=c[0],l=c[1],_=Object(n.useState)(!1),p=Object(d.a)(_,2),v=p[0],f=p[1];function b(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return a=e.sent,console.log(a),l(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){l(null),v&&b(e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}),[v,e]);var y=Object(n.useState)("folderViewId"),g=Object(d.a)(y,2),E=g[0],x=g[1];switch(E){case"folderViewId":return r.a.createElement(Ze,{path:e,setFolderShown:f,refresh:b,account:t,contents:o,nextStage:function(){return x()},exitStage:function(){return x()}});default:return r.a.createElement("h1",null,"Oops...")}};a(411);var Ye=[{path:"/account-create",exact:!0,component:se},{path:"/account",exact:!0,component:xe},{path:"/connect/:id",component:Oe},{path:"/drive/:path",component:He},{path:"/unlock",exact:!0,component:function(e){e.open;var t=Object(m.b)(),a=Object(u.e)(),c=Object(m.c)((function(e){return function(e){return e.account}(e)})),o=Object(m.c)((function(e){return function(e){return e.system}(e)})),l=Object(n.useState)(),_=Object(d.a)(l,2),p=_[0],v=_[1];function f(){return(f=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(c.username,p);case 2:e.sent?a.push("/drive/root"):console.log("user not logged in");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(o),o.unlocked&&a.push("/drive/root")})),r.a.createElement("div",{className:X.a.dialogBox},r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.title},"Unlock your account"),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("img",{src:c.avatar,className:X.a.dialogAvatar}),r.a.createElement("div",{className:X.a.dialogPasswordBox},r.a.createElement("input",{className:X.a.dialogPassword,type:"password",placeholder:"Password",onChange:function(e){return function(e){v(e.target.value)}(e)}})),r.a.createElement("div",{tabIndex:"2",className:X.a.button,onClick:function(){return f.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("div",{className:X.a.buttontext},"continue"))),r.a.createElement("div",{className:X.a.flexer}),r.a.createElement("div",{className:X.a.link,onClick:function(){return t({type:"SET_SYSTEM",data:{showPasswordUnlock:!1}})}},"Get me out of here"))}}],Ve=a(363),Qe=a(790),qe=a(175),Je=Object(Ve.a)({palette:{primary:{main:"#92e7fa",light:"#cecece",background:"#333333"},secondary:{main:qe.a[500]}}});var $e=function(){Object(m.c)((function(e){return function(e){return e.system}(e)}));var e=Object(m.c)((function(e){return function(e){return e.account}(e)})),t=Object(m.b)(),a=Object(u.e)();return Object(n.useEffect)((function(){function n(){return(n=Object(i.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("noAccount"!==e.status){n.next=4;break}a.push("/account-create"),n.next=7;break;case 4:return n.next=6,w(e.username).then((function(e){e.data.loggedin?(a.push("/drive/root"),t({type:"SET_SYSTEM",data:{unlocked:!0}})):a.push("/unlock")})).catch((function(e){return e}));case 6:n.sent;case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().catch((function(e){return console.log(e)}))}),[e.status]),r.a.createElement(Qe.a,{theme:Je}," "," "," ",r.a.createElement("div",{className:X.a.swarmcity}," "," "," ",Ye.map((function(e){var t=e.path,a=e.exact,n=e.component;return r.a.createElement(u.a,Object.assign({key:t},{path:t,exact:a,component:n}))}))," "," "," ")," "," ")},et=a(48),tt=a(172),at=a(173),nt=a(364),rt=a(170),ct=a(356),ot=a(46),lt={status:"noAccount",locked:!0};var st=Object(rt.persistentReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT":return Object(et.a)(Object(et.a)({},e),t.data);case"RESET_ACCOUNT":return Object(et.a)({},lt);default:return e}}),{name:"account"}),it={mountPoint:"account",reducer:st},ut={showPasswordUnlock:!1,hasUser:!1,passWord:null,mnemonic:null,unlocked:!1};var dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SYSTEM":return console.log("system",t),Object(et.a)(Object(et.a)({},e),t.data);default:return e}},mt=a(43),_t=a(163),pt=a(53),vt=Object(pt.a)((function(e){return e.account}),(function(e){return e})),ft=s.a.mark(bt);function bt(e){var t,a,n,r;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("unlocksystem saga started"),c.prev=1,console.log("unlock system with password ",e.data),c.next=5,Object(mt.c)(vt);case 5:return t=c.sent,console.log(t),c.next=9,window.myWeb3.eth.accounts.decrypt(t.privateKey,e.data.passWord);case 9:return a=c.sent,console.log(a),c.next=13,_t.default.decryptWithPrivateKey(a.privateKey,t.mnemonic);case 13:return n=c.sent,console.log(typeof n,n),c.next=17,Object(mt.b)({type:"SET_SYSTEM",data:{mnemonic:n}});case 17:return c.next=19,Object(mt.b)({type:"SET_SYSTEM",data:{privatekey:a.privateKey}});case 19:return c.next=21,Object(mt.b)({type:"SET_SYSTEM",data:{unlocked:!0}});case 21:return c.next=23,window.fairdrive.getFairdrive(n.toString());case 23:if(!(r=c.sent).res){c.next=29;break}return c.next=27,Object(mt.b)({type:"SET_DRIVE",data:r.res});case 27:c.next=30;break;case 29:console.log(r.err);case 30:c.next=35;break;case 32:c.prev=32,c.t0=c.catch(1),console.log("error on timeout",c.t0);case 35:case"end":return c.stop()}}),ft,null,[[1,32]])}var ht=s.a.mark(yt);function yt(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.d)("UNLOCK_SYSTEM",bt);case 2:case"end":return e.stop()}}),ht)}var gt={mountPoint:"system",reducer:dt,saga:yt},Et={};var xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRIVE":return console.log("drive",t),Object(et.a)(Object(et.a)({},e),t.data);default:return e}},wt=s.a.mark(Nt),St=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:5e3});function Nt(e){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getDriveContent saga started"),e.prev=1,t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=5,St({method:"POST",url:"pod/open",data:y.a.stringify({password:"1234",pod:"Fairdrive"}),config:t,withCredentials:!0});case 5:return a=e.sent,console.log(a),e.next=9,St({method:"POST",url:"dir/ls",data:y.a.stringify({dir:"/"}),config:t,withCredentials:!0});case 9:return n=e.sent,console.log(n),e.next=13,Object(mt.b)({type:"SET_DRIVE",data:{fairdrive:n.data}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("error on timeout",e.t0);case 18:case"end":return e.stop()}}),wt,null,[[1,15]])}var Ot=s.a.mark(Ct),jt=b.a.create({baseURL:"http://localhost:9090/v0/",timeout:5e3});function Ct(e){var t,a,n,r,c;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(console.log("uploadFilesSaga saga started"),o.prev=1,t={headers:{"Content-Type":"multipart/form-data"}},a=new FormData,n=e.data.length,r=0;r<n;r++)a.append("files",e.data[r]);return a.append("pod_dir","/Pictures"),a.append("block_size","64Mb"),o.next=10,jt({method:"POST",url:"file/upload",data:a,config:t,withCredentials:!0});case 10:c=o.sent,console.log(c),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("error on timeout",o.t0);case 17:case"end":return o.stop()}}),Ot,null,[[1,14]])}var kt=s.a.mark(Tt);function Tt(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.d)("GET_DRIVE",Nt);case 2:return e.next=4,Object(mt.d)("UPLOAD_FILES",Ct);case 4:case"end":return e.stop()}}),kt)}var It={account:it,system:gt,drive:{mountPoint:"drive",reducer:xt,saga:Tt}},Bt={},At={};Object.values(It).forEach((function(e){var t=e.mountPoint,a=e.reducer;At[t]=a}));var Ft=Object(ot.c)(Object(et.a)(Object(et.a)({},At),{},{globalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;return t.type,e}})),Pt=s.a.mark(Wt);function Wt(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)(Object(tt.a)(Object.values(It).filter((function(e){return e.saga})).map((function(e){return e.saga()}))));case 2:case"end":return e.stop()}}),Pt)}var Dt=a(360),Ut=a.n(Dt),Rt=a(361);window.myWeb3=new Ut.a("https://goerli.infura.io/v3/46958faea5154db687257f9598b0e269");var Lt=new Rt.Fairdrive("http://localhost:8080");window.fairdrive=Lt;var Xt=Object(nt.a)(),zt=new ct.a({name:"fairdrive"}),Mt=Object(rt.persistentStore)({db:zt}),Gt=Object(at.a)({reducer:Ft,middleware:[Xt].concat(Object(tt.a)(Object(at.b)())),enhancers:[Mt],preloadedState:{}}),Kt=Gt;window.dispatch=function(e,t){Gt.dispatch(Object(et.a)({type:e},t))},Xt.run(Wt);var Zt=a(62),Ht=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(m.a,{store:Kt},r.a.createElement(Zt.a,null,r.a.createElement($e,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ht?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Yt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Yt(t,e)}))}}()},9:function(e,t,a){e.exports={container:"account-create_container__3NdcF",containergreen:"account-create_containergreen__24rsl account-create_container__3NdcF",containerred:"account-create_containerred__sljYP account-create_container__3NdcF",formcontainer:"account-create_formcontainer__1FtYc account-create_container__3NdcF",closeButton:"account-create_closeButton__3zjgh",title:"account-create_title__1QZdD styles_mainTitle1__2NSyK",titleblue:"account-create_titleblue__1CHBH styles_mainTitle1__2NSyK",formtitle:"account-create_formtitle__2gzcM styles_mainTitle1__2NSyK",formsubtitle:"account-create_formsubtitle__199uV styles_smallLight__19t_v",subtitle:"account-create_subtitle__3_35a styles_bodyDefault__3HIAZ",link:"account-create_link__1Ayx_ styles_baseGlowText__1theI",username:"account-create_username__1WQGK styles_bodyBold__1X9lW",usernameExists:"account-create_usernameExists__I-PgQ styles_bodyBold__1X9lW",showkeystoggle:"account-create_showkeystoggle__3cERA styles_smallBold__2dgD2",box:"account-create_box___GsGi styles_bodyBold__1X9lW",placeholder:"account-create_placeholder__3Uv3g",avatarImage:"account-create_avatarImage__DaV2F",button:"account-create_button__nj0EZ undefined styles_baseShadow__3Xdrr",buttontext:"account-create_buttontext__1LWBJ",buttongray:"account-create_buttongray__7H5lD undefined styles_baseShadow__3Xdrr",buttontextblue:"account-create_buttontextblue__12CFX",uploadicon:"account-create_uploadicon__3p-4z",arrowup:"account-create_arrowup__Q_BAP",avatareditor:"account-create_avatareditor__3bq5u",usernameinputbox:"account-create_usernameinputbox__3DSg4",usernameinput:"account-create_usernameinput__qwoNz styles_bodyBold__1X9lW",mnemonicinputbox:"account-create_mnemonicinputbox__3s9ic",mnemonicinput:"account-create_mnemonicinput__cPDmh styles_bodyBold__1X9lW",passwordflex:"account-create_passwordflex__2UZT5",flexer:"account-create_flexer__3OqLs",dialogiconbox:"account-create_dialogiconbox__1FIZw",confirm:"account-create_confirm__1MSCL",cancel:"account-create_cancel__1s5HZ",sliderbox:"account-create_sliderbox__1sBLF",statusbox:"account-create_statusbox__2oMVP",statusboxitemactive:"account-create_statusboxitemactive__vnq_N",blacktext:"account-create_blacktext__22UQe styles_smallBold__2dgD2",choosefile:"account-create_choosefile__2pDg4 styles_smallBold__2dgD2",nextbuttonbox:"account-create_nextbuttonbox__3ixzS",mnemonic:"account-create_mnemonic__1lK4p styles_bodyBold__1X9lW",mnemoniccheck:"account-create_mnemoniccheck__1gGIJ",fileinput:"account-create_fileinput__38N5L",textField:"account-create_textField__1mcno"}}},[[371,1,2]]]);
//# sourceMappingURL=main.91da82ba.chunk.js.map